<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Tips and Tricks | papaja: Reproducible APA manuscripts with R Markdown</title>
  <meta name="description" content="""" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Tips and Tricks | papaja: Reproducible APA manuscripts with R Markdown" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="""" />
  <meta name="github-repo" content="crsh/papaja_man" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Tips and Tricks | papaja: Reproducible APA manuscripts with R Markdown" />
  
  <meta name="twitter:description" content="""" />
  

<meta name="author" content="Frederik Aust &amp; Marius Barth" />


<meta name="date" content="2020-10-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reporting.html"/>
<link rel="next" href="collaborative-writing.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./" ><b>papaja: Reproducible APA<br \>manuscripts with R Markdown</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#reproducible-scientific-reports"><i class="fa fa-check"></i><b>1.1.1</b> Reproducible scientific reports</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#implementation"><i class="fa fa-check"></i><b>1.2</b> Implementation</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#guiding-principles"><i class="fa fa-check"></i><b>1.2.1</b> Guiding principles</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#document-compilation"><i class="fa fa-check"></i><b>1.2.2</b> Document compilation</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#alternatives"><i class="fa fa-check"></i><b>1.3</b> Alternatives</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#getting-started"><i class="fa fa-check"></i><b>1.4</b> Getting started</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#software-requirements"><i class="fa fa-check"></i><b>1.4.1</b> Software requirements</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#installing-papaja"><i class="fa fa-check"></i><b>1.4.2</b> Installing papaja</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#creating-a-document"><i class="fa fa-check"></i><b>1.4.3</b> Creating a document</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-markdown-components.html"><a href="r-markdown-components.html"><i class="fa fa-check"></i><b>2</b> R Markdown components</a><ul>
<li class="chapter" data-level="2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html#yaml-front-matter"><i class="fa fa-check"></i><b>2.1</b> YAML front matter</a><ul>
<li class="chapter" data-level="2.1.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html#manuscript-metadata"><i class="fa fa-check"></i><b>2.1.1</b> Manuscript metadata</a></li>
<li class="chapter" data-level="2.1.2" data-path="r-markdown-components.html"><a href="r-markdown-components.html#rendering-options"><i class="fa fa-check"></i><b>2.1.2</b> Rendering options</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-markdown-components.html"><a href="r-markdown-components.html#body"><i class="fa fa-check"></i><b>2.2</b> Body</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html#markdown"><i class="fa fa-check"></i><b>2.2.1</b> Markdown</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-markdown-components.html"><a href="r-markdown-components.html#r-code"><i class="fa fa-check"></i><b>2.2.2</b> R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i><b>3</b> Writing</a><ul>
<li class="chapter" data-level="3.1" data-path="writing.html"><a href="writing.html#markdown-text-formatting"><i class="fa fa-check"></i><b>3.1</b> Markdown text formatting</a></li>
<li class="chapter" data-level="3.2" data-path="writing.html"><a href="writing.html#citations"><i class="fa fa-check"></i><b>3.2</b> Citations</a><ul>
<li class="chapter" data-level="3.2.1" data-path="writing.html"><a href="writing.html#citation-styles"><i class="fa fa-check"></i><b>3.2.1</b> Citation styles</a></li>
<li class="chapter" data-level="3.2.2" data-path="writing.html"><a href="writing.html#works-in-press"><i class="fa fa-check"></i><b>3.2.2</b> Works ‘in press’</a></li>
<li class="chapter" data-level="3.2.3" data-path="writing.html"><a href="writing.html#conveniently-inserting-citations-with-citr"><i class="fa fa-check"></i><b>3.2.3</b> Conveniently inserting citations with <code>citr</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="writing.html"><a href="writing.html#meta-analysis-references"><i class="fa fa-check"></i><b>3.2.4</b> Meta-analysis references</a></li>
<li class="chapter" data-level="3.2.5" data-path="writing.html"><a href="writing.html#citing-r-and-its-packages"><i class="fa fa-check"></i><b>3.2.5</b> Citing R and its packages</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="writing.html"><a href="writing.html#equations"><i class="fa fa-check"></i><b>3.3</b> Equations</a></li>
<li class="chapter" data-level="3.4" data-path="writing.html"><a href="writing.html#cross-referencing"><i class="fa fa-check"></i><b>3.4</b> Cross-referencing</a></li>
<li class="chapter" data-level="3.5" data-path="writing.html"><a href="writing.html#appendices"><i class="fa fa-check"></i><b>3.5</b> Appendices</a></li>
<li class="chapter" data-level="3.6" data-path="writing.html"><a href="writing.html#counting-words"><i class="fa fa-check"></i><b>3.6</b> Counting words</a></li>
<li class="chapter" data-level="3.7" data-path="writing.html"><a href="writing.html#comparing-document-versions"><i class="fa fa-check"></i><b>3.7</b> Comparing document versions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>4</b> Reporting</a><ul>
<li class="chapter" data-level="4.1" data-path="reporting.html"><a href="reporting.html#numerical-values"><i class="fa fa-check"></i><b>4.1</b> Numerical values</a></li>
<li class="chapter" data-level="4.2" data-path="reporting.html"><a href="reporting.html#figures"><i class="fa fa-check"></i><b>4.2</b> Figures</a><ul>
<li class="chapter" data-level="4.2.1" data-path="reporting.html"><a href="reporting.html#r-generated-figures"><i class="fa fa-check"></i><b>4.2.1</b> R-generated figures</a></li>
<li class="chapter" data-level="4.2.2" data-path="reporting.html"><a href="reporting.html#external-images"><i class="fa fa-check"></i><b>4.2.2</b> External images</a></li>
<li class="chapter" data-level="4.2.3" data-path="reporting.html"><a href="reporting.html#figure-captions"><i class="fa fa-check"></i><b>4.2.3</b> Figure captions</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="reporting.html"><a href="reporting.html#tables"><i class="fa fa-check"></i><b>4.3</b> Tables</a><ul>
<li class="chapter" data-level="4.3.1" data-path="reporting.html"><a href="reporting.html#table-captions"><i class="fa fa-check"></i><b>4.3.1</b> Table captions</a></li>
<li class="chapter" data-level="4.3.2" data-path="introduction.html"><a href="introduction.html#alternatives"><i class="fa fa-check"></i><b>4.3.2</b> Alternatives</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="reporting.html"><a href="reporting.html#statistical-models-and-tests"><i class="fa fa-check"></i><b>4.4</b> Statistical Models and Tests</a><ul>
<li class="chapter" data-level="4.4.1" data-path="reporting.html"><a href="reporting.html#reporting-models-and-tests-in-a-table"><i class="fa fa-check"></i><b>4.4.1</b> Reporting models and tests in a table</a></li>
<li class="chapter" data-level="4.4.2" data-path="reporting.html"><a href="reporting.html#fully-supported-analysis-methods"><i class="fa fa-check"></i><b>4.4.2</b> Fully supported analysis methods</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="reporting.html"><a href="reporting.html#caching-expensive-computations"><i class="fa fa-check"></i><b>4.5</b> Caching expensive computations</a><ul>
<li class="chapter" data-level="4.5.1" data-path="reporting.html"><a href="reporting.html#inserting-variables-before-they-have-been-computed"><i class="fa fa-check"></i><b>4.5.1</b> Inserting variables before they have been computed</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html"><i class="fa fa-check"></i><b>5</b> Tips and Tricks</a><ul>
<li class="chapter" data-level="5.1" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#global-chunk-options"><i class="fa fa-check"></i><b>5.1</b> Global chunk options</a></li>
<li class="chapter" data-level="5.2" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#meaningful-chunk-names"><i class="fa fa-check"></i><b>5.2</b> Meaningful chunk names</a></li>
<li class="chapter" data-level="5.3" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#text-references"><i class="fa fa-check"></i><b>5.3</b> Text references</a></li>
<li class="chapter" data-level="5.4" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#useful-rstudio-addins"><i class="fa fa-check"></i><b>5.4</b> Useful RStudio Addins</a></li>
<li class="chapter" data-level="5.5" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#reproducible-software-environments"><i class="fa fa-check"></i><b>5.5</b> Reproducible software environments</a><ul>
<li class="chapter" data-level="5.5.1" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#docker"><i class="fa fa-check"></i><b>5.5.1</b> Docker</a></li>
<li class="chapter" data-level="5.5.2" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#codeocean"><i class="fa fa-check"></i><b>5.5.2</b> CodeOcean</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#rstudio"><i class="fa fa-check"></i><b>5.6</b> RStudio</a></li>
<li class="chapter" data-level="5.7" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#splitting-an-r-markdown-document"><i class="fa fa-check"></i><b>5.7</b> Splitting an R Markdown document</a></li>
<li class="chapter" data-level="5.8" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#best-practices"><i class="fa fa-check"></i><b>5.8</b> Best practices</a></li>
<li class="chapter" data-level="5.9" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#troubleshooting"><i class="fa fa-check"></i><b>5.9</b> Troubleshooting</a><ul>
<li class="chapter" data-level="5.9.1" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#yaml"><i class="fa fa-check"></i><b>5.9.1</b> YAML</a></li>
<li class="chapter" data-level="5.9.2" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#r"><i class="fa fa-check"></i><b>5.9.2</b> R</a></li>
<li class="chapter" data-level="5.9.3" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#bookdown"><i class="fa fa-check"></i><b>5.9.3</b> <code>bookdown</code></a></li>
<li class="chapter" data-level="5.9.4" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#pandoc"><i class="fa fa-check"></i><b>5.9.4</b> <code>pandoc</code></a></li>
<li class="chapter" data-level="5.9.5" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#latex"><i class="fa fa-check"></i><b>5.9.5</b> <span class="math inline">\(\LaTeX\)</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="collaborative-writing.html"><a href="collaborative-writing.html"><i class="fa fa-check"></i><b>6</b> Collaborative writing</a></li>
<li class="chapter" data-level="7" data-path="published-manuscripts.html"><a href="published-manuscripts.html"><i class="fa fa-check"></i><b>7</b> Published manuscripts</a></li>
<li class="chapter" data-level="8" data-path="limitations.html"><a href="limitations.html"><i class="fa fa-check"></i><b>8</b> Limitations</a><ul>
<li class="chapter" data-level="8.1" data-path="limitations.html"><a href="limitations.html#pdf-documents"><i class="fa fa-check"></i><b>8.1</b> PDF documents</a><ul>
<li class="chapter" data-level="8.1.1" data-path="limitations.html"><a href="limitations.html#customizing-the-document-preamble"><i class="fa fa-check"></i><b>8.1.1</b> Customizing the document preamble</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="limitations.html"><a href="limitations.html#microsoft-word-documents"><i class="fa fa-check"></i><b>8.2</b> Microsoft Word documents</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="customizations.html"><a href="customizations.html"><i class="fa fa-check"></i><b>9</b> Customizations</a><ul>
<li class="chapter" data-level="9.1" data-path="customizations.html"><a href="customizations.html#author-name-disambiguation"><i class="fa fa-check"></i><b>9.1</b> Author name disambiguation</a></li>
<li class="chapter" data-level="9.2" data-path="customizations.html"><a href="customizations.html#adjusting-line-spacing"><i class="fa fa-check"></i><b>9.2</b> Adjusting line spacing</a></li>
<li class="chapter" data-level="9.3" data-path="customizations.html"><a href="customizations.html#writing-dissertations"><i class="fa fa-check"></i><b>9.3</b> Writing dissertations</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="future-directions.html"><a href="future-directions.html"><i class="fa fa-check"></i><b>10</b> Future directions</a><ul>
<li class="chapter" data-level="10.1" data-path="future-directions.html"><a href="future-directions.html#contributions"><i class="fa fa-check"></i><b>10.1</b> Contributions</a><ul>
<li class="chapter" data-level="10.1.1" data-path="future-directions.html"><a href="future-directions.html#workflow"><i class="fa fa-check"></i><b>10.1.1</b> Workflow</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/crsh/papaja" target="blank">papaja on GitHub</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">papaja: Reproducible APA manuscripts with R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tips-and-tricks" class="section level1">
<h1><span class="header-section-number">5</span> Tips and Tricks</h1>
<ul>
<li>Spell check functionality in RStudio</li>
</ul>
<p>Although often overlooked, RStudio can check your spelling</p>
<ul>
<li>New line for each sentence</li>
</ul>
<div id="global-chunk-options" class="section level2">
<h2><span class="header-section-number">5.1</span> Global chunk options</h2>
<p>It can be useful to set chunk options globally for all (following) chunks to avoid retyping or copy-and-pasting</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="tips-and-tricks.html#cb77-1"></a><span class="co"># Save all plots as 600 DPI TIFF-files</span></span>
<span id="cb77-2"><a href="tips-and-tricks.html#cb77-2"></a>knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">dev =</span> <span class="st">&quot;tiff&quot;</span>, <span class="dt">dpi =</span> <span class="dv">600</span>)</span>
<span id="cb77-3"><a href="tips-and-tricks.html#cb77-3"></a></span>
<span id="cb77-4"><a href="tips-and-tricks.html#cb77-4"></a><span class="co"># Do not evaluate subsequent chunks (debugging or fine-tuning)</span></span>
<span id="cb77-5"><a href="tips-and-tricks.html#cb77-5"></a>knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">eval =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p>See the <a href="https://yihui.name/knitr/options/">knitr chunk options and package options</a> for an overview of settings</p>
</div>
<div id="meaningful-chunk-names" class="section level2">
<h2><span class="header-section-number">5.2</span> Meaningful chunk names</h2>
<p>…</p>
</div>
<div id="text-references" class="section level2">
<h2><span class="header-section-number">5.3</span> Text references</h2>
<p>Because <code>papaja</code> extends <code>bookdown</code> you can use text references in any <code>papaja</code> document.
A text reference consists of a unique label—defined as <code>(ref:unique-label)</code> somewhere in the body of the document (not inside a code chunk)—and the text that the label stands in for.
Text references must be defined in a separate single-line paragraph with empty lines above and below:</p>
<pre><code>(ref:my-caption) This is a caption for my table.</code></pre>

<div class="rmdcaution">
<p>The definition of a text reference must be on a single line and should not end with a white space.
Hence, the following will <em>not</em> work as expected</p>
<pre><code>(ref:my-caption) 
This is a caption for my table.</code></pre>
</div>

<p>Using text references for table and figure captions has several advantages:</p>
<ol style="list-style-type: decimal">
<li>Markdown and <span class="math inline">\(\LaTeX\)</span> syntax is not well supported in chunk options, such as <code>fig.cap</code>, or elsewhere inside a code chunk, e.g., in the <code>caption</code> argument of <code>apa_table()</code>.
Specifically, Markdown formatting and citation syntax are ignored (rendered as-is) and, for example, <code>\</code> and <code>_</code> must be escaped to prevent errors in either R or <span class="math inline">\(\LaTeX\)</span>.
None of these limitations apply to text references.</li>
<li>Long captions can impair the readability of the document when they are part of chunk options or R code.</li>
<li><code>knitr</code> considers modifications of the text in <code>fig.cap</code> as changes to the code chunk and hence may invalidate the cache of a chunk.
As a consequence cached results of the code chunk need to be recomputed.
Changes to the text of a text reference do not invalidate the cached computations.</li>
<li>It’s straight forward to include inline code chunks in text references.</li>
</ol>
<p>Text references can be used to duplicate information throughout the document.
Consider the following example.</p>
<pre><code>(ref:aesthetics) Points represent conditions means, error bars represent 955% confidence intervals.

(ref:caption1) An interesting plot.

```{r fig.cap = paste(&quot;(ref:caption1)&quot;, &quot;(ref:aesthetics)&quot;)}
apa_beeplot(data = npk, id = &quot;block&quot;, dv = &quot;yield&quot;, factors = &quot;N&quot;)
```

(ref:caption2) Another interesting plot.

```{r fig.cap = paste(&quot;(ref:caption2)&quot;, &quot;(ref:aesthetics)&quot;)}
apa_beeplot(data = npk, id = &quot;block&quot;, dv = &quot;yield&quot;, factors = &quot;N&quot;)
```</code></pre>
<p>The resulting figure caption combines the two text references, Figure <a href="tips-and-tricks.html#fig:text-reference-figure">5.1</a>.</p>


<div class="figure" style="text-align: center"><span id="fig:text-reference-figure"></span>
<img src="papaja_manual_files/figure-html/text-reference-figure-1.png" alt="An interesting plot. Points represent conditions means, error bars represent 955% confidence intervals." width="672" />
<p class="caption">
Figure 5.1: An interesting plot. Points represent conditions means, error bars represent 955% confidence intervals.
</p>
</div>
<p>Because the information about what points and error bars represent is repeated using a text reference, and not by literal repetition throughout the document, it’s easy to correct the typo (<code>955% confidence intervals</code>) and be sure that it is corrected in every instance.</p>
</div>
<div id="useful-rstudio-addins" class="section level2">
<h2><span class="header-section-number">5.4</span> Useful RStudio Addins</h2>
<ul>
<li><a href="https://github.com/crsh/citr"><code>citr</code></a>: Insert Markdown Citations</li>
<li><a href="https://github.com/ThinkR-open/remedy"><code>remedy</code></a>: Keyboard shortcuts for Markdown formatting</li>
<li><a href="https://github.com/LudvigOlsen/splitChunk"><code>splitChunk</code></a>: Split R Markdown code chunks</li>
<li><a href="https://github.com/ropenscilabs/gramr"><code>gramr</code></a>: Write-good linter</li>
<li><a href="https://github.com/benmarwick/wordcountaddin"><code>wordcount</code></a>: Word counts and readability statistics</li>
</ul>
<p>Set up keyboard shortcuts via<br /><code>Tools &gt; Modify keyboard shortcuts</code></p>
<p>Suggested keyboard shortcuts</p>
<table>
<thead>
<tr class="header">
<th align="left">Package</th>
<th align="left">Addin</th>
<th align="left">Keyboard shortcut</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>citr</code></td>
<td align="left">Insert citation</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>R</kbd></td>
</tr>
<tr class="even">
<td align="left"><code>wordcount</code></td>
<td align="left">Word count</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>C</kbd></td>
</tr>
<tr class="odd">
<td align="left"><code>splitChunk</code></td>
<td align="left">Chunk split</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>S</kbd></td>
</tr>
<tr class="even">
<td align="left"><code>remedy</code></td>
<td align="left">Bold</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>B</kbd></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Italic</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>I</kbd></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Backtick</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>P</kbd></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">URL</td>
<td align="left"><kbd>Shift</kbd> + <kbd>Alt</kbd>+<kbd>U</kbd></td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://statcheck.io"><code>statcheck</code></a>: Extract Statistics from Articles and Recompute p Values</li>
<li><a href="https://frederikaust.shinyapps.io/retractcheck_shinyapp/"><code>retractcheck</code></a>: Check DOIs in a paper for retractions</li>
</ul>
</div>
<div id="reproducible-software-environments" class="section level2">
<h2><span class="header-section-number">5.5</span> Reproducible software environments</h2>
<p>To ensure mid- to long-term computation reproducibility we highly recommend conserving the software environment used to write a manuscript (e.g. R and all R packages) either in a software container or a virutal machine.
This way you can be sure that your R code does not break because of updates to R or any R package.
For a brief primer on containers and virtual machines see <a href="https://psych-transparency-guide.uni-koeln.de/analytic-reproducibility.html#document-hardware-and-software-used-for-analyses">the supplementary material</a> by <span class="citation">Klein et al. (<a href="#ref-klein_practical_2018" role="doc-biblioref">2018</a>)</span>.</p>
<div id="docker" class="section level3">
<h3><span class="header-section-number">5.5.1</span> Docker</h3>
<p><a href="https://www.docker.com/">Docker</a> is the most widely used containerization approach.
It is open source and free to use but requires some disk space.
For a concise hands-on introduction see <a href="https://ropenscilabs.github.io/r-docker-tutorial/">the ROpenSci tutorial</a>.
A <a href="https://docker-curriculum.com/">more detailed introduction</a> is available from the Docker project.
Docker containers a configured using so-called Docker files.
To configure a Docker container that includes everything to start writing your manuscript, including an instance of RStudio that you can access through you Browser you can build use the following Docker file:</p>
<pre class="docker"><code># Look up available R versions at https://github.com/rocker-org/rocker-versioned/tree/master/verse

FROM rocker/verse:3.6.3

# Install papaja dependencies
RUN apt-get update \
    &amp;&amp; apt-get install -y --no-install-recommends \
    libgsl0-dev \
    libnlopt-dev

RUN install2.r --error \
    --skipinstalled \
    --deps TRUE \
    rmdfiltr

# Required by broom -- obsolete once newer versions are available from MRAN
RUN Rscript -e &quot;remotes::install_version(&#39;rlang&#39;, &#39;0.4.7&#39;, repos = &#39;http://cran.us.r-project.org&#39;, upgrade = FALSE, Ncpus = 3)&quot;
RUN Rscript -e &quot;remotes::install_version(&#39;tidyselect&#39;, &#39;1.1.0&#39;, repos = &#39;http://cran.us.r-project.org&#39;, upgrade = FALSE, Ncpus = 3)&quot;
RUN Rscript -e &quot;remotes::install_version(&#39;vctrs&#39;, &#39;0.3.2&#39;, repos = &#39;http://cran.us.r-project.org&#39;, upgrade = FALSE, Ncpus = 3)&quot;
RUN Rscript -e &quot;remotes::install_version(&#39;dplyr&#39;, &#39;1.0.0&#39;, repos = &#39;http://cran.us.r-project.org&#39;, upgrade = FALSE, Ncpus = 3)&quot;

# Latest papaja development version
RUN Rscript -e &quot;remotes::install_github(&#39;crsh/papaja&#39;,  quick = FALSE, build = TRUE, dependencies = c(&#39;Depends&#39;, &#39;Imports&#39;), Ncpus = 3, upgrade = FALSE)&quot;</code></pre>
<p>Place this Docker file in your project repository and run the container using the following Bash script (for MacOS or Linux):</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="tips-and-tricks.html#cb82-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb82-2"><a href="tips-and-tricks.html#cb82-2"></a></span>
<span id="cb82-3"><a href="tips-and-tricks.html#cb82-3"></a><span class="ex">docker</span> build \</span>
<span id="cb82-4"><a href="tips-and-tricks.html#cb82-4"></a>    --build-arg RSTUDIO_VERSION=1.3.1093 \</span>
<span id="cb82-5"><a href="tips-and-tricks.html#cb82-5"></a>    -t container-name .</span>
<span id="cb82-6"><a href="tips-and-tricks.html#cb82-6"></a></span>
<span id="cb82-7"><a href="tips-and-tricks.html#cb82-7"></a><span class="ex">docker</span> run -d \</span>
<span id="cb82-8"><a href="tips-and-tricks.html#cb82-8"></a>    -p 8787:8787 \</span>
<span id="cb82-9"><a href="tips-and-tricks.html#cb82-9"></a>    -e DISABLE_AUTH=true \</span>
<span id="cb82-10"><a href="tips-and-tricks.html#cb82-10"></a>    -e ROOT=TRUE \</span>
<span id="cb82-11"><a href="tips-and-tricks.html#cb82-11"></a>    -v <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>:/home/rstudio \</span>
<span id="cb82-12"><a href="tips-and-tricks.html#cb82-12"></a>    container-name</span>
<span id="cb82-13"><a href="tips-and-tricks.html#cb82-13"></a></span>
<span id="cb82-14"><a href="tips-and-tricks.html#cb82-14"></a><span class="fu">sleep</span> 1</span>
<span id="cb82-15"><a href="tips-and-tricks.html#cb82-15"></a></span>
<span id="cb82-16"><a href="tips-and-tricks.html#cb82-16"></a><span class="ex">open</span> http://<span class="va">$(</span><span class="ex">ipconfig</span> getifaddr en0<span class="va">)</span>:8787</span></code></pre></div>
<p>Place this file in your project repository and execute it.
This script will take a little while to finish the first time around (it downloads the base container and installs the missing dependencies), but should be fast the next time.
Finally, a Browser window with an instance of RStudio should open and all files from you project repository should be shared between your host system and the container.
In new you can work as you usually would.</p>

<div class="rmdnote">
Note that if you work in RStudio, whenever you install an R package interactively (i.e., via the GUI or <code>install.packages()</code>) they will be lost once you stop the container.
While this may seem inconvenient, it ensures that your software environment is fully self-contained.
</div>

<p>To make additional R packages available in your container, add them to the Docker file.
For example,</p>
<pre><code>RUN install2.r --error \
    --skipinstalled \
    --deps TRUE \
    rmdfiltr
    afex
    emmeans</code></pre>
<p>Note that all R packages are installed from the MRAN server that provides each package as it was available from CRAN on a particular date in the past (that is, the last day the specified version of R was the most recent release, see the <a href="https://github.com/rocker-org/rocker-versioned/blob/master/VERSIONS.md">rocker version information</a>).</p>
</div>
<div id="codeocean" class="section level3">
<h3><span class="header-section-number">5.5.2</span> CodeOcean</h3>
<p><a href="https://codeocean.com/">CodeOcean</a> is a commercial service that builds on Docker, facilitates setting up and sharing containers and lets you run computations in the cloud.
CodeOcean’s Seth Green has kindly prepared a <a href="https://codeocean.com/capsule/8183533/">minimal <code>papaja</code> example capsule</a>.
If you want to use <code>papaja</code> in your next CodeOcean project you can use this capsule as a starting point.</p>
</div>
</div>
<div id="rstudio" class="section level2">
<h2><span class="header-section-number">5.6</span> RStudio</h2>
<ol style="list-style-type: decimal">
<li>Document outline</li>
</ol>
<p>RStudio provides a handy document outline view</p>
<!-- If you discover an error in a data file, never modify it directly, but instead write code to correct the value. Explain why you made the fix. -->
<!-- Before you finish for the day, make sure you can knit the notebook (if you’re using caching, make sure to clear the caches). That will let you fix any problems while the code is still fresh in your mind. -->
</div>
<div id="splitting-an-r-markdown-document" class="section level2">
<h2><span class="header-section-number">5.7</span> Splitting an R Markdown document</h2>
<p>Some authors may prefer to split long manuscripts into multiple component files for better clarity.
There are two basic strategies to split R Markdown documents that can be combined or used in isolation: sourcing R scripts and splitting the R Markdown document.
If the R Markdown document contains a lot of code, it may be helpful to disincorporate parts of the code, such as reading, merging, restructuring, and relabeling data files.
The R scripts can then be executed at the respective section of the document using <code>source()</code>.</p>
<p>Some authors may prefer to split long manuscripts into a master or parent document and multiple children.
The master document, for example, consists of the YAML front matter and includes the children, which are themselves R Markdown documents without a YAML front matter.
To include a child document, insert an empty chunk and provide the path to the R Markdown document in the chunk option <code>child</code>.</p>
<p>It may be preferable to split long documents into multiple files</p>
<pre><code>```{r child = &quot;introduction.Rmd&quot;}
```

```{r child = &quot;method.Rmd&quot;}
```

```{r child = &quot;results.Rmd&quot;}
```

```{r child = &quot;discussion.Rmd&quot;}
```</code></pre>
<p>Search all files with <kbd>Ctrl</kbd> + <kbd>Shift</kbd>+<kbd>F</kbd></p>
</div>
<div id="best-practices" class="section level2">
<h2><span class="header-section-number">5.8</span> Best practices</h2>
<ol style="list-style-type: decimal">
<li>Load all R packages in the first code chunk
<ul>
<li>Never include <code>install.packages()</code></li>
</ul></li>
<li>Set a seed for random number generators<br />(e.g., <code>set.seed()</code>)</li>
<li>Never use <code>setwd()</code>!</li>
<li>Use relative paths or load files from a permanent location</li>
<li>Use meaningful chunk names</li>
<li>Keep R code close to the corresponding prose</li>
<li>Document R and R-package versions<br />(e.g., <code>devtools::session_info()</code>)</li>
<li>Try to ensure you can knit without errors before going home</li>
</ol>
</div>
<div id="troubleshooting" class="section level2">
<h2><span class="header-section-number">5.9</span> Troubleshooting</h2>
<p>As detailed in [Document compilation], rendering a <code>papaja</code> document involves several software packages.
This layered software design grants the package its capabilities but it comes at a cost:
When compilation of a <code>papaja</code>-document throws an error it may not be immediately obvious to an inexperienced user, which part of the process failed.
However, the error message usually give some indication which portion of the process errored:</p>
<ol style="list-style-type: decimal">
<li>Parsing of the YAML front matter
<ul>
<li><code>Error in yaml::yaml.load(enc2utf8(string), ...) :</code></li>
</ul></li>
<li>R code execution
<ul>
<li><code>Error: Object 'x' not found.</code></li>
</ul></li>
<li><code>bookdown</code> adds cross- and text-references
<ul>
<li>No error messages; look for <code></code> in text</li>
</ul></li>
<li><code>pandoc</code> document conversion
<ul>
<li><code>Error: pandoc document conversion failed with error 1</code></li>
<li><code>Error running filter /path/to/filter/filter.lua</code></li>
</ul></li>
<li><code>pandoc-citeproc</code> reference generation
<ul>
<li><code>pandoc-citeproc: Cannot decode byte '\xfc'</code></li>
<li><code>pandoc-citeproc: reference X not found</code>, shows up as <strong>???</strong> in text</li>
</ul></li>
<li><span class="math inline">\(\LaTeX\)</span> PDF generation
<ul>
<li><code>! Missing $ inserted</code></li>
</ul></li>
</ol>
<p>It is often helpful to search the internet for the error messages or portions thereof.
Many times others will have encountered the same problem and may have documented their solution.
In the following we provide some general advice.</p>
<div id="yaml" class="section level3">
<h3><span class="header-section-number">5.9.1</span> YAML</h3>
<p>TBD</p>
<p>Double check indentation and white space.</p>
</div>
<div id="r" class="section level3">
<h3><span class="header-section-number">5.9.2</span> R</h3>

<div class="rmdnote">
Error messages generated by R unfortunately do not provide the exact line that has errored.
The reported line number indicates the first line of R code chunk that contains the erroneous code.
</div>

<p>Fixing bugs in R Markdown documents can be challenging because the code is run in a new non-interactive R session.
This makes it a little harder to play around to pinpoint what’s causing the problem.
Hence, do your best to recreate the problem in your interactive session:</p>
<ol style="list-style-type: decimal">
<li>Restart R (<code>Session &gt; Restart R</code> or<br /><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F10</kbd> in RStudio)</li>
<li>Compare the working directories (e.g., use <code>getwd()</code> in the console and in a code chunk of your knitted document)</li>
<li>Run every chunk individually until you get the error</li>
</ol>
<p>If you can’t reproduce the problem in your interactive R session, there must be some difference between it and the R environment of your document.
Once you identify that difference you will often know what is causing the problem.
If you don’t you at least can now recreate the problem in your interactive R session and start debugging.
To learn more about debugging techniques refer to <a href="https://adv-r.hadley.nz/debugging.html">Advanced R</a> <span class="citation">(Wickham, <a href="#ref-wickham_advanced_2019" role="doc-biblioref">2019</a>)</span>.</p>
</div>
<div id="bookdown" class="section level3">
<h3><span class="header-section-number">5.9.3</span> <code>bookdown</code></h3>
<p>TBD</p>
<p>Don’t use <code>_</code> in chunk names!</p>
</div>
<div id="pandoc" class="section level3">
<h3><span class="header-section-number">5.9.4</span> <code>pandoc</code></h3>
<p>TBD</p>
<p>Report errors with <code>papaja</code> Lua filters at <a href="https://github.com/crsh/papaja/issues" class="uri">https://github.com/crsh/papaja/issues</a></p>
</div>
<div id="latex" class="section level3">
<h3><span class="header-section-number">5.9.5</span> <span class="math inline">\(\LaTeX\)</span></h3>
<p>TBD</p>
<p>Inspect the log file.</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-klein_practical_2018">
<p>Klein, O., Hardwicke, T. E., Aust, F., Breuer, J., Danielsson, H., Mohr, A. H., … Frank, M. C. (2018). A practical guide for transparency in psychological science. <em>Collabra: Psychology</em>, <em>4</em>(1). doi:<a href="https://doi.org/10.1525/collabra.158">10.1525/collabra.158</a></p>
</div>
<div id="ref-wickham_advanced_2019">
<p>Wickham, H. (2019). <em>Advanced R</em> (2nd ed.). Chapman; Hall/CRC. Retrieved from <a href="https://adv-r.hadley.nz//">https://adv-r.hadley.nz//</a></p>
</div>
</div>
<h1>Comments and Questions</h1>
<div id="disqus_thread"></div>
  <script>
  
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
    (function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://papaja-manual.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<br />
<center><small>Icons by <a href = "https://icons8.com">Icons8</a></small></center>
            </section>

          </div>
        </div>
      </div>
<a href="reporting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="collaborative-writing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/crsh/papaja_man/edit/master/05-tips_and_tricks.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
