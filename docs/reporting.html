<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Reporting | papaja: Reproducible APA manuscripts with R Markdown</title>
  <meta name="description" content="&quot;&quot;" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Reporting | papaja: Reproducible APA manuscripts with R Markdown" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="&quot;&quot;" />
  <meta name="github-repo" content="crsh/papaja_man" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Reporting | papaja: Reproducible APA manuscripts with R Markdown" />
  
  <meta name="twitter:description" content="&quot;&quot;" />
  

<meta name="author" content="Frederik Aust &amp; Marius Barth" />


<meta name="date" content="2020-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="writing.html"/>
<link rel="next" href="tips-and-tricks.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./" ><b>papaja: Reproducible APA<br \>manuscripts with R Markdown</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#reproducible-scientific-reports"><i class="fa fa-check"></i><b>1.1.1</b> Reproducible scientific reports</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#implementation"><i class="fa fa-check"></i><b>1.2</b> Implementation</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#guiding-principles"><i class="fa fa-check"></i><b>1.2.1</b> Guiding principles</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#document-compilation"><i class="fa fa-check"></i><b>1.2.2</b> Document compilation</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#alternatives"><i class="fa fa-check"></i><b>1.3</b> Alternatives</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#getting-started"><i class="fa fa-check"></i><b>1.4</b> Getting started</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#software-requirements"><i class="fa fa-check"></i><b>1.4.1</b> Software requirements</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#installing-papaja"><i class="fa fa-check"></i><b>1.4.2</b> Installing papaja</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#creating-a-document"><i class="fa fa-check"></i><b>1.4.3</b> Creating a document</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-markdown-components.html"><a href="r-markdown-components.html"><i class="fa fa-check"></i><b>2</b> R Markdown components</a><ul>
<li class="chapter" data-level="2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html#yaml-front-matter"><i class="fa fa-check"></i><b>2.1</b> YAML front matter</a><ul>
<li class="chapter" data-level="2.1.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html#manuscript-metadata"><i class="fa fa-check"></i><b>2.1.1</b> Manuscript metadata</a></li>
<li class="chapter" data-level="2.1.2" data-path="r-markdown-components.html"><a href="r-markdown-components.html#rendering-options"><i class="fa fa-check"></i><b>2.1.2</b> Rendering options</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-markdown-components.html"><a href="r-markdown-components.html#body"><i class="fa fa-check"></i><b>2.2</b> Body</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html#markdown"><i class="fa fa-check"></i><b>2.2.1</b> Markdown</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-markdown-components.html"><a href="r-markdown-components.html#r-code"><i class="fa fa-check"></i><b>2.2.2</b> R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i><b>3</b> Writing</a><ul>
<li class="chapter" data-level="3.1" data-path="writing.html"><a href="writing.html#markdown-text-formatting"><i class="fa fa-check"></i><b>3.1</b> Markdown text formatting</a></li>
<li class="chapter" data-level="3.2" data-path="writing.html"><a href="writing.html#citations"><i class="fa fa-check"></i><b>3.2</b> Citations</a><ul>
<li class="chapter" data-level="3.2.1" data-path="writing.html"><a href="writing.html#citation-styles"><i class="fa fa-check"></i><b>3.2.1</b> Citation styles</a></li>
<li class="chapter" data-level="3.2.2" data-path="writing.html"><a href="writing.html#works-in-press"><i class="fa fa-check"></i><b>3.2.2</b> Works ‘in press’</a></li>
<li class="chapter" data-level="3.2.3" data-path="writing.html"><a href="writing.html#conveniently-inserting-citations-with-citr"><i class="fa fa-check"></i><b>3.2.3</b> Conveniently inserting citations with <code>citr</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="writing.html"><a href="writing.html#meta-analysis-references"><i class="fa fa-check"></i><b>3.2.4</b> Meta-analysis references</a></li>
<li class="chapter" data-level="3.2.5" data-path="writing.html"><a href="writing.html#citing-r-and-its-packages"><i class="fa fa-check"></i><b>3.2.5</b> Citing R and its packages</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="writing.html"><a href="writing.html#equations"><i class="fa fa-check"></i><b>3.3</b> Equations</a></li>
<li class="chapter" data-level="3.4" data-path="writing.html"><a href="writing.html#cross-referencing"><i class="fa fa-check"></i><b>3.4</b> Cross-referencing</a></li>
<li class="chapter" data-level="3.5" data-path="writing.html"><a href="writing.html#appendices"><i class="fa fa-check"></i><b>3.5</b> Appendices</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>4</b> Reporting</a><ul>
<li class="chapter" data-level="4.1" data-path="reporting.html"><a href="reporting.html#numerical-values"><i class="fa fa-check"></i><b>4.1</b> Numerical values</a></li>
<li class="chapter" data-level="4.2" data-path="reporting.html"><a href="reporting.html#figures"><i class="fa fa-check"></i><b>4.2</b> Figures</a><ul>
<li class="chapter" data-level="4.2.1" data-path="reporting.html"><a href="reporting.html#r-generated-figures"><i class="fa fa-check"></i><b>4.2.1</b> R-generated figures</a></li>
<li class="chapter" data-level="4.2.2" data-path="reporting.html"><a href="reporting.html#external-images"><i class="fa fa-check"></i><b>4.2.2</b> External images</a></li>
<li class="chapter" data-level="4.2.3" data-path="reporting.html"><a href="reporting.html#figure-captions"><i class="fa fa-check"></i><b>4.2.3</b> Figure captions</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="reporting.html"><a href="reporting.html#tables"><i class="fa fa-check"></i><b>4.3</b> Tables</a><ul>
<li class="chapter" data-level="4.3.1" data-path="reporting.html"><a href="reporting.html#table-captions"><i class="fa fa-check"></i><b>4.3.1</b> Table captions</a></li>
<li class="chapter" data-level="4.3.2" data-path="reporting.html"><a href="reporting.html#alternatives-1"><i class="fa fa-check"></i><b>4.3.2</b> Alternatives</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="reporting.html"><a href="reporting.html#results-from-statistical-tests"><i class="fa fa-check"></i><b>4.4</b> Results from statistical tests</a><ul>
<li class="chapter" data-level="4.4.1" data-path="reporting.html"><a href="reporting.html#htest-t-tests-correlations-etc."><i class="fa fa-check"></i><b>4.4.1</b> htest (<em>t</em> tests, correlations, etc.)</a></li>
<li class="chapter" data-level="4.4.2" data-path="reporting.html"><a href="reporting.html#lm-linear-regression"><i class="fa fa-check"></i><b>4.4.2</b> lm (linear regression)</a></li>
<li class="chapter" data-level="4.4.3" data-path="reporting.html"><a href="reporting.html#anova-anova-anova.mlm-analysis-of-variance-anova"><i class="fa fa-check"></i><b>4.4.3</b> anova, Anova, Anova.mlm (Analysis of Variance – ANOVA)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="reporting.html"><a href="reporting.html#caching-expensive-computations"><i class="fa fa-check"></i><b>4.5</b> Caching expensive computations</a><ul>
<li class="chapter" data-level="4.5.1" data-path="reporting.html"><a href="reporting.html#inserting-variables-before-they-have-been-computed"><i class="fa fa-check"></i><b>4.5.1</b> Inserting variables before they have been computed</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html"><i class="fa fa-check"></i><b>5</b> Tips and Tricks</a><ul>
<li class="chapter" data-level="5.1" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#global-chunk-options"><i class="fa fa-check"></i><b>5.1</b> Global chunk options</a></li>
<li class="chapter" data-level="5.2" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#meaningful-chunk-names"><i class="fa fa-check"></i><b>5.2</b> Meaningful chunk names</a></li>
<li class="chapter" data-level="5.3" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#useful-rstudio-addins"><i class="fa fa-check"></i><b>5.3</b> Useful RStudio Addins</a></li>
<li class="chapter" data-level="5.4" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#reproducible-software-environment"><i class="fa fa-check"></i><b>5.4</b> Reproducible software environment</a></li>
<li class="chapter" data-level="5.5" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#rstudio"><i class="fa fa-check"></i><b>5.5</b> RStudio</a></li>
<li class="chapter" data-level="5.6" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#splitting-an-r-markdown-document"><i class="fa fa-check"></i><b>5.6</b> Splitting an R Markdown document</a></li>
<li class="chapter" data-level="5.7" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#workflow"><i class="fa fa-check"></i><b>5.7</b> Workflow</a><ul>
<li class="chapter" data-level="5.7.1" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#comparing-documents"><i class="fa fa-check"></i><b>5.7.1</b> Comparing documents</a></li>
<li class="chapter" data-level="5.7.2" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#counting-words"><i class="fa fa-check"></i><b>5.7.2</b> Counting words</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#best-practices"><i class="fa fa-check"></i><b>5.8</b> Best practices</a></li>
<li class="chapter" data-level="5.9" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#troubleshooting"><i class="fa fa-check"></i><b>5.9</b> Troubleshooting</a><ul>
<li class="chapter" data-level="5.9.1" data-path="tips-and-tricks.html"><a href="tips-and-tricks.html#r"><i class="fa fa-check"></i><b>5.9.1</b> R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="collaborative-writing.html"><a href="collaborative-writing.html"><i class="fa fa-check"></i><b>6</b> Collaborative writing</a></li>
<li class="chapter" data-level="7" data-path="published-manuscripts.html"><a href="published-manuscripts.html"><i class="fa fa-check"></i><b>7</b> Published manuscripts</a></li>
<li class="chapter" data-level="8" data-path="limitations.html"><a href="limitations.html"><i class="fa fa-check"></i><b>8</b> Limitations</a><ul>
<li class="chapter" data-level="8.1" data-path="limitations.html"><a href="limitations.html#pdf-documents"><i class="fa fa-check"></i><b>8.1</b> PDF documents</a><ul>
<li class="chapter" data-level="8.1.1" data-path="limitations.html"><a href="limitations.html#customizing-the-document-preamble"><i class="fa fa-check"></i><b>8.1.1</b> Customizing the document preamble</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="limitations.html"><a href="limitations.html#microsoft-word-documents"><i class="fa fa-check"></i><b>8.2</b> Microsoft Word documents</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="customizations.html"><a href="customizations.html"><i class="fa fa-check"></i><b>9</b> Customizations</a><ul>
<li class="chapter" data-level="9.1" data-path="customizations.html"><a href="customizations.html#author-name-disambiguation"><i class="fa fa-check"></i><b>9.1</b> Author name disambiguation</a></li>
<li class="chapter" data-level="9.2" data-path="customizations.html"><a href="customizations.html#adjusting-line-spacing"><i class="fa fa-check"></i><b>9.2</b> Adjusting line spacing</a></li>
<li class="chapter" data-level="9.3" data-path="customizations.html"><a href="customizations.html#writing-dissertations"><i class="fa fa-check"></i><b>9.3</b> Writing dissertations</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="future-directions.html"><a href="future-directions.html"><i class="fa fa-check"></i><b>10</b> Future directions</a><ul>
<li class="chapter" data-level="10.1" data-path="future-directions.html"><a href="future-directions.html#contributions"><i class="fa fa-check"></i><b>10.1</b> Contributions</a><ul>
<li class="chapter" data-level="10.1.1" data-path="future-directions.html"><a href="future-directions.html#workflow-1"><i class="fa fa-check"></i><b>10.1.1</b> Workflow</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/crsh/papaja" target="blank">papaja on GitHub</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">papaja: Reproducible APA manuscripts with R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reporting" class="section level1">
<h1><span class="header-section-number">4</span> Reporting</h1>
<p>Using <code>papaja</code>, it is possible to run all your analyses from within an R Markdown document.
Any output from R is included as you usually would using R Markdown.
By default the R code will not be displayed in the final documents.
If you wish to show off your code you need to set <code>echo = TRUE</code> in the chunk options.</p>
<p>This section describes how results from statistical analyses can be included into the manuscript:
It starts with simple numerical values (like a sample mean) and then continues with more-complex
output, like figures, tables, and the results from statistical models and hypothesis tests.</p>
<div id="numerical-values" class="section level2">
<h2><span class="header-section-number">4.1</span> Numerical values</h2>
<p>Consider a basic example, where you want to include a mean and a standard deviation into text:
<code>printnum()</code> can be used to include numeric values in the text.
The function performs the rounding and optionally omits leading zeros in accordance with APA guidelines:</p>
<pre class="text"><code>Participants mean age was `r printnum(age_mean)` years ($SD = `r printnum(age_sd)`$).</code></pre>
<p>The above line is rendered as follows:</p>
<blockquote>
<p>Participants mean age was 22.84 years (<span class="math inline">\(SD = 3.78\)</span>).</p>
</blockquote>
<p><code>printnum()</code> is quiet flexible by passing its arguments to the underlying base function <code>formatC()</code>
(CAVE: We are currently considering to switch to <code>format()</code>.),
so changing the number of digits after the decimal point or the character to be used to indicate the
decimal point (e.g., from a point <code>&quot;.&quot;</code> to a comma <code>&quot;,&quot;</code>) is always possible.</p>

<div class="rmdnote">
<code>papaja</code> automatically applies <code>printnum()</code> to any numbers that a printed in inline code chunks.
Hence, <code>`r age_mean`</code> and <code>`r printnum(age_mean)`</code> are effectively identical and both yield “22.84”.
</div>

<p><code>papaja</code> additionally provides a shorthand version of <code>printnum()</code>, namely <code>printp()</code>, with defaults for correct typesetting of <span class="math inline">\(p\)</span> values (e.g., <span class="math inline">\(p &lt; .001\)</span> instead of <span class="math inline">\(p = 0.000\)</span>).</p>
<p>Typeset numerical values for greater control
- <code>printnum()</code>
- <code>printp()</code> as shorthand for <em>p</em> values</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">printnum</span>(<span class="kw">c</span>(<span class="fl">143234.34557</span>, <span class="ot">Inf</span>))</a></code></pre></div>
<pre><code>## [1] &quot;143,234.35&quot; &quot;$\\infty$&quot;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">printnum</span>(42L, <span class="dt">numerals =</span> <span class="ot">FALSE</span>, <span class="dt">capitalize =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] &quot;Forty-two&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">printp</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.0008</span>, <span class="dv">0</span>))</a></code></pre></div>
<pre><code>## [1] &quot;&gt; .999&quot; &quot;.001&quot;   &quot;&lt; .001&quot;</code></pre>
</div>
<div id="figures" class="section level2">
<h2><span class="header-section-number">4.2</span> Figures</h2>
<p>As in any R Markdown document, you can include figures in your document.
Figures can either consist of plots generated in R or external files.
In accordance with APA guidelines, figures are not displayed in place but are deferred to the final pages of the document.
To change this default behavior, set the option <code>figsintext</code> in the <a href="r-markdown-components.html#yaml-front-matter">YAML front matter</a> to <code>yes</code>.</p>
<p>Figures are saved as 300 dpi PDF and PNG</p>
<ul>
<li>e.g., <code>my_manuscript_figures/figure-latex/chunk-name-1.pdf</code></li>
<li>Change defaults using chunk options (<code>dev</code> and <code>dpi</code>)</li>
</ul>
<div id="r-generated-figures" class="section level3">
<h3><span class="header-section-number">4.2.1</span> R-generated figures</h3>
<p>Any plot that is generated by an R code chunk is automatically included in your document.
Hence, a simple call to <code>plot()</code> is sufficient to create a figure:</p>
<p>(ref:simple-base-plot)
A basic scatterplot of the <code>cars</code> dataset.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">plot</span>(cars)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:simple-base-plot"></span>
<img src="papaja_manual_files/figure-html/simple-base-plot-1.png" alt="(ref:simple-base-plot)" width="672" />
<p class="caption">
Figure 4.1: (ref:simple-base-plot)
</p>
</div>
<p>Figure display size, resolution, file format and many other things can be controlled by setting the corresponding chunk options.
Refer to the <a href="https://yihui.name/knitr/options/#plots">plot-related <code>knitr</code> chunk options</a> for an overview of all options.
In <code>papaja</code>-documents, by default, all figures are saved as vectorized PDF and pixel-based PNG files at a resolution of 300 DPI, which should in most cases be sufficient for a print publication.
When the target document format is PDF the vectorized PDF files are included; when the target document format is DOCX the pixel-based PNG files are included.
The files can be found in the <code>mydocument_files</code> folder that is generated when <code>mydocument.Rmd</code> is knitted.</p>
<p>Note, if you define transparent colors in your plots (e.g., when you define colors using <code>rgb()</code>), the rendered document will always display the pixel-based PNG files, regardless of the target document format.
Given the lossless compression in PNG and the decent resolution of 300 DPI this should not be a problem in print.</p>
<div id="papaja-plot-functions" class="section level4">
<h4><span class="header-section-number">4.2.1.1</span> <code>papaja</code> plot functions</h4>
<p>Factorial designs are ubiquitous in experimental psychology, but notoriously cumbersome to visualize with R base <code>graphics</code>.
That is why <code>papaja</code> provides a set of functions to facilitate plotting data from factorial designs.</p>
<p>The functions <code>apa_beeplot()</code>, <code>apa_lineplot()</code>, <code>apa_barplot()</code>, and the generic <code>apa_factorial_plot()</code> are intended to provide a convenient way to obtain a publication-ready figure while maintaining enough flexibility for customization.
The basic arguments to these functions are all the same, so you only need to learn one syntax to generate different types of plots.
Moreover, it is easy to switch between the different types of plots by only changing a few letters of the function name.</p>
<p>Consider the following example of a so-called beeswarm plot:</p>
<p>(ref:beeswarm-caption)
An example beeswarm plot. Small points represent individual observations, large points represent condition means, and error bars represent 95% confidence intervals.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">apa_beeplot</span>(</a>
<a class="sourceLine" id="cb40-2" data-line-number="2">  <span class="dt">data =</span> mixed_data</a>
<a class="sourceLine" id="cb40-3" data-line-number="3">  , <span class="dt">id =</span> <span class="st">&quot;Subject&quot;</span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4">  , <span class="dt">dv =</span> <span class="st">&quot;Recall&quot;</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5">  , <span class="dt">factors =</span> <span class="kw">c</span>(<span class="st">&quot;Task&quot;</span>, <span class="st">&quot;Valence&quot;</span>, <span class="st">&quot;Dosage&quot;</span>)</a>
<a class="sourceLine" id="cb40-6" data-line-number="6">)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:beeswarm2"></span>
<img src="papaja_manual_files/figure-html/beeswarm2-1.png" alt="(ref:beeswarm-caption)" width="672" />
<p class="caption">
Figure 4.2: (ref:beeswarm-caption)
</p>
</div>
<p>A <code>data.frame</code> that contains the data in long format is passed to the <code>data</code> argument.
The other arguments expect the names of the columns that contain the subject identifier <code>id</code>,
the dependent variable <code>dv</code>, and the between- or within-subjects <code>factors</code> of the design.
Currently, zero to four factors are supported.</p>
<p>For each cell of the design, the functions plot</p>
<ol style="list-style-type: decimal">
<li>central tendency,</li>
<li>dispersion, and</li>
<li>names of dependent variable, factors and levels, and optionally a legend.</li>
</ol>
<p>Mesures of central tendency and dispersion default to the mean and 95% confidence intervals.
However, the arguments <code>tendency</code> and <code>dispersion</code> can be used to overwrite these defaults and plot other statistics.
For example, to plot within-subjects rather than between-subjects confidence intervals you can set <code>dispersion = within_subjects_conf_int</code>.
If the data encompass multiple observations per participant-factor-level-combination, these observations are aggregated.
By default, the condition means are computed but you can specify other aggregation functions via the <code>fun_aggregate</code> argument.</p>
<p>The visual elements of the plots can be customized by passing options to the arguments <code>args_points</code>, <code>args_error_bars</code>, <code>args_legend</code>, and so on.
These arguments take named lists of arguments that are passed on to the respective functions from the <code>graphics</code> package
(which comprises R’s standard plotting functions), such as <code>points()</code>, <code>arrows()</code>, and <code>legend()</code>.
Consider the following code and the resulting Figure <a href="reporting.html#fig:customized-plot">4.3</a> for a customized version of the previous beeswarm plot.</p>
<p>(ref:customized-plot-caption)
A customized beeswarm plot. Note that, by default, the swarm inherits parameters from the args_points argument. Small points represent individual observations, large points represent means, and error bars represent 95% within-subjects confidence intervals.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">apa_beeplot</span>(</a>
<a class="sourceLine" id="cb41-2" data-line-number="2">    <span class="dt">data =</span> mixed_data</a>
<a class="sourceLine" id="cb41-3" data-line-number="3">  , <span class="dt">id =</span> <span class="st">&quot;Subject&quot;</span></a>
<a class="sourceLine" id="cb41-4" data-line-number="4">  , <span class="dt">dv =</span> <span class="st">&quot;Recall&quot;</span></a>
<a class="sourceLine" id="cb41-5" data-line-number="5">  , <span class="dt">factors =</span> <span class="kw">c</span>(<span class="st">&quot;Task&quot;</span>, <span class="st">&quot;Valence&quot;</span>, <span class="st">&quot;Dosage&quot;</span>)</a>
<a class="sourceLine" id="cb41-6" data-line-number="6">  , <span class="dt">dispersion =</span> within_subjects_conf_int</a>
<a class="sourceLine" id="cb41-7" data-line-number="7">  , <span class="dt">main =</span> <span class="kw">c</span>(<span class="kw">expression</span>(<span class="kw">italic</span>(A)<span class="op">~</span><span class="st">&quot;dosage&quot;</span>), <span class="kw">expression</span>(<span class="kw">italic</span>(B)<span class="op">~</span><span class="st">&quot;dosage&quot;</span>), <span class="kw">expression</span>(<span class="kw">italic</span>(C)<span class="op">~</span><span class="st">&quot;dosage&quot;</span>))</a>
<a class="sourceLine" id="cb41-8" data-line-number="8">  , <span class="dt">ylab =</span> <span class="st">&quot;Number of correctly recalled words&quot;</span></a>
<a class="sourceLine" id="cb41-9" data-line-number="9">  , <span class="dt">args_points =</span> <span class="kw">list</span>(<span class="dt">cex =</span> <span class="dv">2</span>, <span class="dt">bg =</span> <span class="kw">c</span>(<span class="st">&quot;skyblue4&quot;</span>, <span class="st">&quot;indianred3&quot;</span>, <span class="st">&quot;seagreen4&quot;</span>), <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</a>
<a class="sourceLine" id="cb41-10" data-line-number="10">  , <span class="dt">args_swarm =</span> <span class="kw">list</span>(<span class="dt">cex =</span> <span class="fl">1.2</span>)</a>
<a class="sourceLine" id="cb41-11" data-line-number="11">  , <span class="dt">args_error_bars =</span> <span class="kw">list</span>(<span class="dt">length =</span> <span class="fl">0.02</span>, <span class="dt">col =</span> <span class="st">&quot;grey20&quot;</span>)</a>
<a class="sourceLine" id="cb41-12" data-line-number="12">  , <span class="dt">args_legend =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="st">&quot;bottom&quot;</span>, <span class="dt">inset =</span> <span class="fl">0.05</span>)</a>
<a class="sourceLine" id="cb41-13" data-line-number="13">  , <span class="dt">args_y_axis =</span> <span class="kw">list</span>(<span class="dt">las =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb41-14" data-line-number="14">)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:customized-plot"></span>
<img src="papaja_manual_files/figure-html/customized-plot-1.png" alt="(ref:customized-plot-caption)" width="672" />
<p class="caption">
Figure 4.3: (ref:customized-plot-caption)
</p>
</div>
<ul>
<li>Utilize variable labels</li>
</ul>
<p>These plot functions also utilize variable labels, with some <span class="math inline">\(\LaTeX\)</span> math support (see <code>?latex2exp::TeX</code>)</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">variable_labels</span>(cosmetic_surgery) &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb42-2" data-line-number="2">  <span class="dt">Post_QoL =</span> <span class="st">&quot;Quality of life post surgery ($</span><span class="ch">\\</span><span class="st">bar{x}_{post}$)&quot;</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3">)</a>
<a class="sourceLine" id="cb42-4" data-line-number="4"></a>
<a class="sourceLine" id="cb42-5" data-line-number="5"><span class="kw">apa_beeplot</span>(</a>
<a class="sourceLine" id="cb42-6" data-line-number="6">  <span class="dt">id =</span> <span class="st">&quot;ID&quot;</span></a>
<a class="sourceLine" id="cb42-7" data-line-number="7">  , <span class="dt">dv =</span> <span class="st">&quot;Post_QoL&quot;</span></a>
<a class="sourceLine" id="cb42-8" data-line-number="8">  , <span class="dt">factors =</span> <span class="kw">c</span>(<span class="st">&quot;Reason&quot;</span>, <span class="st">&quot;Surgery&quot;</span>, <span class="st">&quot;Gender&quot;</span>)</a>
<a class="sourceLine" id="cb42-9" data-line-number="9">  , <span class="dt">data =</span> cosmetic_surgery</a>
<a class="sourceLine" id="cb42-10" data-line-number="10">  <span class="co"># , ylab = &quot;Quality of life post surgery&quot;</span></a>
<a class="sourceLine" id="cb42-11" data-line-number="11">  , <span class="dt">las =</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb42-12" data-line-number="12">  , <span class="dt">args_legend =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="fl">0.25</span>, <span class="dt">y =</span> <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb42-13" data-line-number="13">  , <span class="dt">args_points =</span> <span class="kw">list</span>(<span class="dt">bg =</span> <span class="kw">c</span>(<span class="st">&quot;skyblue2&quot;</span>, <span class="st">&quot;indianred1&quot;</span>))</a>
<a class="sourceLine" id="cb42-14" data-line-number="14">  , <span class="dt">args_error_bars =</span> <span class="kw">list</span>(<span class="dt">length =</span> <span class="fl">0.03</span>)</a>
<a class="sourceLine" id="cb42-15" data-line-number="15">)</a></code></pre></div>
</div>
<div id="setting-global-plot-options" class="section level4">
<h4><span class="header-section-number">4.2.1.2</span> Setting global plot options</h4>
<p>As noted in the APA guidelines (p. 153) figures in an article should be consistent and in the same style.
Hence, it is desireable to define plot styles only once, rather than every time a new plot is created.
When using <code>graphics</code> plot functions global options can be set using <code>par()</code>.
For example, the size of labels and symbols can be controled with <code>cex</code>:</p>
<p>(ref:par-in-chunk)
A variant of the example beeswarm plot with larger labels and symbols.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.2</span>)</a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="kw">apa_beeplot</span>(</a>
<a class="sourceLine" id="cb43-3" data-line-number="3">  <span class="dt">data =</span> mixed_data</a>
<a class="sourceLine" id="cb43-4" data-line-number="4">  , <span class="dt">id =</span> <span class="st">&quot;Subject&quot;</span></a>
<a class="sourceLine" id="cb43-5" data-line-number="5">  , <span class="dt">dv =</span> <span class="st">&quot;Recall&quot;</span></a>
<a class="sourceLine" id="cb43-6" data-line-number="6">  , <span class="dt">factors =</span> <span class="kw">c</span>(<span class="st">&quot;Task&quot;</span>, <span class="st">&quot;Valence&quot;</span>)</a>
<a class="sourceLine" id="cb43-7" data-line-number="7">)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:par-in-chunk"></span>
<img src="papaja_manual_files/figure-html/par-in-chunk-1.png" alt="(ref:par-in-chunk)" width="672" />
<p class="caption">
Figure 4.4: (ref:par-in-chunk)
</p>
</div>
<p>However, the use of <code>par()</code> is restricted in <code>knitr</code>.</p>

<div class="rmdcaution">
By default, <code>knitr</code> resets <code>par()</code> for every chunk; <code>par()</code> needs to be called anew in every chunk that creates a plot.
</div>

<p>While there are advantages to this behavior it impedes defining a consistent plot style.
Although not very convenient, it <em>is</em> possible to set global plot options in <code>knitr</code> and therefore also in <code>papaja</code>.
The following example illustrates how to make <code>knitr</code> execute a specified call to <code>par()</code> before executing code in a given chunk.
Here we rotate the <span class="math inline">\(y\)</span>-axis label (<code>las = 1</code>), set a regular font and increase the size of the main title (<code>font.main = 1</code>, <code>cex.main = 1.05</code>).</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="co"># Ensure that par()-settings are retained across chunks</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2">knitr<span class="op">::</span>opts_knit<span class="op">$</span><span class="kw">set</span>(<span class="dt">global.par =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="co"># Define a function that sets desired global plot defaults</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="kw">par</span>(<span class="dt">font.main =</span> <span class="dv">1</span><span class="st">`</span><span class="dt">, </span><span class="st">`</span><span class="dt">cex.main =</span> <span class="fl">1.05</span>, <span class="dt">las =</span> <span class="dv">1</span>)</a></code></pre></div>
<p>The customizations apply to all subsequently generated plots.
It is, thus, advisable to add this code at the top of the R Markdown document shortly after the YAML front matter.</p>
<p>The aforementioned limitations do not apply to users of <code>ggplot2</code>.
Custom themes can be set as default as usual and are subsequently applied to all plots created with <code>ggplot()</code>.
<code>papaja</code> provides a template <code>theme_apa()</code> that we feel is well suited to create publication-ready plots.
The following example demonstrates how to set a default theme.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="co"># Cosmetic surgery dataset from</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="co"># Field, A. P., Miles, J., &amp; Field, Z. (2012). Discovering statistics using R. London: Sage.</span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="kw">load</span>(<span class="st">&quot;data/cosmetic_surgery.rdata&quot;</span>)</a>
<a class="sourceLine" id="cb46-4" data-line-number="4"></a>
<a class="sourceLine" id="cb46-5" data-line-number="5"><span class="kw">ggplot</span>(</a>
<a class="sourceLine" id="cb46-6" data-line-number="6">    cosmetic_surgery</a>
<a class="sourceLine" id="cb46-7" data-line-number="7">    , <span class="kw">aes</span>(<span class="dt">x =</span> Base_QoL, <span class="dt">y =</span> Post_QoL, <span class="dt">color =</span> Reason)</a>
<a class="sourceLine" id="cb46-8" data-line-number="8">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb46-9" data-line-number="9"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb46-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb46-11" data-line-number="11"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb46-12" data-line-number="12">    <span class="dt">x =</span> <span class="st">&quot;Baseline quality of life&quot;</span></a>
<a class="sourceLine" id="cb46-13" data-line-number="13">    , <span class="dt">y =</span> <span class="st">&quot;Quality of life post surgery&quot;</span></a>
<a class="sourceLine" id="cb46-14" data-line-number="14">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb46-15" data-line-number="15"><span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb46-16" data-line-number="16"><span class="st">  </span><span class="kw">theme_apa</span>(<span class="dt">box =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb46-17" data-line-number="17"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.2</span>, <span class="fl">0.8</span>))</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="papaja_manual_files/figure-html/ggplot-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">theme_set</span>(<span class="kw">theme_apa</span>())</a></code></pre></div>
</div>
</div>
<div id="external-images" class="section level3">
<h3><span class="header-section-number">4.2.2</span> External images</h3>
<p>External images are best included by using <code>knitr::include_graphics()</code>, e.g.</p>

<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;images/swans.png&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:poppers-swans"></span>
<img src="images/swans.png" alt="Only from observing many white swans, you cannot conclude that all swans are white." width="380" />
<p class="caption">
Figure 4.5: Only from observing many white swans, you cannot conclude that all swans are white.
</p>
</div>
</div>
<div id="figure-captions" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Figure captions</h3>
<p>The chunk option <code>fig.cap</code> sets a figure caption.
In principle, it is possible to define a figure caption simply by passing a character string to <code>fig.cap</code>.
However, we strongly recommend that you use <a href="https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html#text-references">text references</a>—a feature of the <code>bookdown</code> package—instead.
A text reference consists of a unique label and the corresponding text that it represents.
Text references can be defined as follows:</p>
<pre><code>(ref:my-figure-caption) This is a figure caption for my figure.</code></pre>
<p>The text reference can now be inserted in the chunk options (or anywhere else), e.g. <code>fig.cap = &quot;(ref:my-figure-caption)&quot;</code>.
The use of text references has several advantages:</p>
<ol style="list-style-type: decimal">
<li>The use of Markdown and <span class="math inline">\(\LaTeX\)</span> syntax is not well supported in <code>fig.cap</code>.
For example, <code>\</code> and <code>_</code> must be escaped to prevent either R or <span class="math inline">\(\LaTeX\)</span> from erroring.
Moreover, Markdown formatting and citation syntax is not supported at all.
None of these limitations apply to text references.</li>
<li>Long figure captions can impair the readability of the document when they are added directly to the chunk options.</li>
<li>Text references are subject to RStudio spell checking, whereas the contents of <code>fig.cap</code> is not.</li>
<li>Changing text reference does not constitute a change to the code chunk and hence does not cause the cache of a chunk to be discarded.</li>
<li>Text references can include inline code chunks.</li>
</ol>
<p>We recommend to define the text reference for a figure caption just above the corresponding code chunk.</p>

<div class="rmdcaution">
The figure caption defined in <code>fig.cap</code> is used for all figures that are created in the respective chunk.
If multiple figures are created the caption will be duplicated.
Unless this behavior is desired, only one figure should be created per chunk.
</div>

<ul>
<li>Caption is used for every figure in chunk</li>
<li>Only one figure per chunk</li>
<li>Combine multiple plots into one figure (e.g., <code>layout()</code>)</li>
</ul>
<p>If a given figure is tall or the figure caption is extensive, it may flow over the page borders of a PDF document.
There are two approaches to accomodate long figure captions or tall figures. You can adjust the line spacing/font size of the caption or use a separate list of figure captions.</p>
<div id="line-spacing-and-font-size" class="section level4">
<h4><span class="header-section-number">4.2.3.1</span> Line spacing and font size</h4>
<p>As mentioned <a href="customizations.html#adjusting-line-spacing">Adjusting line spacing</a>, you can adjust the line spacing but also the font size of figure captions.
For single-spaced script-size figure captions, add the following to the YAML front matter:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="fu">header-includes:</span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2">  <span class="kw">-</span> \usepackage<span class="kw">{</span>setspace<span class="kw">}</span></a>
<a class="sourceLine" id="cb51-3" data-line-number="3">  <span class="kw">-</span> \captionsetup<span class="kw">[</span>figure<span class="kw">]{</span>font={stretch=1,scriptsize<span class="kw">}</span>}</a></code></pre></div>
<p>For other font size options see the <a href="https://en.wikibooks.org/wiki/LaTeX/Fonts#Sizing_text">LaTeX Wikibook</a>.</p>
</div>
<div id="list-of-figure-captions" class="section level4">
<h4><span class="header-section-number">4.2.3.2</span> List of figure captions</h4>
<p>To add a list of figure captions after the reference section, add the following to the YAML front matter:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="fu">figurelist:</span><span class="at"> yes</span></a></code></pre></div>
<p>Additionally you can suppress the captions below <em>all</em> figures by adding LaTeX code to the document preamble:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="fu">header-includes:</span></a>
<a class="sourceLine" id="cb53-2" data-line-number="2">  <span class="kw">-</span> \captionsetup<span class="kw">[</span>figure<span class="kw">]{</span>textformat=empty<span class="kw">}</span></a></code></pre></div>
<p>If you would rather suppress figure captions only where necessary you can instead use <code>knitr</code> to do this.
To remove the caption below a figure set <code>fig.cap = &quot; &quot;</code> and instead set the figure short caption via the chunk option <code>fig.scap = &quot;My figure caption&quot;</code>:</p>
<pre><code>    (ref:figure-caption) This is a long figure caption!
    
    ```{r fig.cap = &quot; &quot;, fig.scap = &quot;(ref:figure-caption)&quot;, out.width = &quot;\\textwidth&quot;}
    plot(cars)
    ```</code></pre>

<div class="rmdcaution">
To ensure that <code>fig.scap</code> takes effect, <code>knitr</code> requires that the chunk specifies <code>out.width</code>, <code>out.height</code>, or <code>fig.align</code>, as explained <a href="https://stackoverflow.com/questions/27250635/short-caption-fig-scap-in-knitr-not-working">here</a>.
</div>

</div>
</div>
</div>
<div id="tables" class="section level2">
<h2><span class="header-section-number">4.3</span> Tables</h2>
<p>For prettier tables, I suggest you try <code>apa_table()</code>, which builds on <code>knitr</code>’s <code>kable()</code>.</p>


<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb55-2" data-line-number="2">descriptives &lt;-<span class="st"> </span>mixed_data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Dosage) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(</a>
<a class="sourceLine" id="cb55-4" data-line-number="4">    <span class="dt">Mean =</span> <span class="kw">mean</span>(Recall)</a>
<a class="sourceLine" id="cb55-5" data-line-number="5">    , <span class="dt">Median =</span> <span class="kw">median</span>(Recall)</a>
<a class="sourceLine" id="cb55-6" data-line-number="6">    , <span class="dt">SD =</span> <span class="kw">sd</span>(Recall)</a>
<a class="sourceLine" id="cb55-7" data-line-number="7">    , <span class="dt">Min =</span> <span class="kw">min</span>(Recall)</a>
<a class="sourceLine" id="cb55-8" data-line-number="8">    , <span class="dt">Max =</span> <span class="kw">max</span>(Recall)</a>
<a class="sourceLine" id="cb55-9" data-line-number="9">  )</a>
<a class="sourceLine" id="cb55-10" data-line-number="10">descriptives[, <span class="dv">-1</span>] &lt;-<span class="st"> </span><span class="kw">printnum</span>(descriptives[, <span class="dv">-1</span>])</a>
<a class="sourceLine" id="cb55-11" data-line-number="11"></a>
<a class="sourceLine" id="cb55-12" data-line-number="12"><span class="kw">apa_table</span>(</a>
<a class="sourceLine" id="cb55-13" data-line-number="13">  descriptives</a>
<a class="sourceLine" id="cb55-14" data-line-number="14">  , <span class="dt">caption =</span> <span class="st">&quot;Descriptive statistics of correct recall by dosage.&quot;</span></a>
<a class="sourceLine" id="cb55-15" data-line-number="15">  , <span class="dt">note =</span> <span class="st">&quot;This table was created with apa_table().&quot;</span></a>
<a class="sourceLine" id="cb55-16" data-line-number="16">  , <span class="dt">escape =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb55-17" data-line-number="17">)</a></code></pre></div>
<caption>
<span id="tab:unnamed-chunk-17">Table 4.1: </span>
</caption>
<div custom-style="Table Caption">
<em>Descriptive statistics of correct recall by dosage.</em>
</div>
<table>
<thead>
<tr class="header">
<th align="left">Dosage</th>
<th align="left">Mean</th>
<th align="left">Median</th>
<th align="left">SD</th>
<th align="left">Min</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="left">14.19</td>
<td align="left">14.00</td>
<td align="left">4.45</td>
<td align="left">5</td>
<td align="left">25</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="left">13.50</td>
<td align="left">14.00</td>
<td align="left">5.15</td>
<td align="left">4</td>
<td align="left">22</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="left">19.19</td>
<td align="left">19.00</td>
<td align="left">3.52</td>
<td align="left">13</td>
<td align="left">25</td>
</tr>
</tbody>
</table>
<div custom-style="Compact">
<p><em>Note.</em> This table was created with apa_table().</p>
</div>
<p> </p>
<p>Of course popular packages like <code>xtable</code><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> or <code>tables</code> can also be used to create tables when knitting PDF documents.
These packages, however, cannot be used when you want to create Microsoft Word documents because they rely on <span class="math inline">\(\LaTeX\)</span> for typesetting.
<code>apa_table()</code> creates tables that conform to APA guidelines and are correctly rendered in PDF and Word documents.
But don’t get too excited.
In papaja, table formatting is somewhat limited for Word documents due to missing functionality in pandoc (e.g., it is not possible to have cells or headers span across multiple columns).</p>
<p>As required by the APA guidelines, tables are deferred to the final pages of the manuscript when creating a PDF.
To place tables and figures in your text instead, set the <code>figsintext</code> parameter in the YAML header to <code>yes</code> or <code>true</code>, as I have done in this document.
Again, this is not the case in Word documents due to limited pandoc functionality.
The bottom line is, Word documents will be less polished than PDF.
The resulting documents should suffice to enable collaboration with Wordy colleagues and prepare a journal submission with limited manual labor.</p>
<!-- 1. To use LaTeX code inside a table you have to set escape = FALSE. Otherwise, elements of the LaTeX syntax (such as backslashes) will be printed as is. -->
<!-- 2. If you set escape = FALSE you need to manually escape symbols that would otherwise be interpreted as LaTeX code, such as underscores (see note). -->
<!-- 3. When you pass backslashes as character strings you need to escape the backslash with one additional backslash because R uses backslashes to denote special characters, such as \t for tab or \n for newline, and will interpret \a as newline, I think. The remaining lpha is meaningless in LaTeX math environments and will cause an error. -->
<!-- 4. If you want to write symbols in any part of the table use $ instead of $$, which is used in text to format equations as distinct equations in new inset paragraphs. -->
<!-- (5. format = "latex" is not required if you use the function inside an R Markdown document)  -->
<p><code>apa_table()</code> extends <code>knitr::kable()</code></p>
<ul>
<li>Designed to create table designs from the APA manual</li>
<li>Does not perform any calculations</li>
<li>Can merge multiple <code>data.frame</code> of the same structure contained in a <code>list</code></li>
<li>Much more powerful in PDF documents<br />(see <code>apa_table_example.Rmd</code>)</li>
</ul>
<p><code>kableExtra</code> is another powerful alternative</p>
<div id="table-captions" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Table captions</h3>
<p>Table captions can be created by passing a character string to <code>caption =</code> argument within apa_table function (e.g. <code>apa_table(descriptives, caption = &quot;My table caption&quot;)</code>). However, as with figures we strongly recommend that you use <a href="https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html#text-references">text references</a>—a feature of the <code>bookdown</code> package—instead.
A text reference consists of a unique label and the corresponding text that it represents.
Text references can be defined as follows:</p>
<pre><code>(ref:my-table-caption) This is a caption for my table.</code></pre>
<p>The text reference can now be inserted in the chunk options (or anywhere else), e.g. <code>apa_table(descriptives, caption = &quot;(ref:my-table-caption)&quot;)</code>.
The use of text references has several advantages:</p>
<ol style="list-style-type: decimal">
<li>The use of Markdown and <span class="math inline">\(\LaTeX\)</span> syntax is not well supported in <code>caption =</code>.
For example, <code>\</code> and <code>_</code> must be escaped to prevent either R or <span class="math inline">\(\LaTeX\)</span> from erroring.
Moreover, Markdown formatting and citation syntax is not supported at all.
None of these limitations apply to text references.</li>
<li>Long table captions can impair the readability of the document when they are added directly apa_table() call.</li>
<li>Changing text reference does not constitute a change to the code chunk and hence does not cause the cache of a chunk to be discarded.</li>
<li>Text references can include inline code chunks.</li>
</ol>
<p>We recommend you define the text reference for a table caption just above the corresponding code chunk. This should not occur within a code chunk and the reference and caption should be on the same line. That is</p>
<pre><code>(ref:my-table-caption) This is a caption for my table.</code></pre>
<p>Rather than</p>
<pre><code>(ref:my-table-caption) 
This is a caption for my table.</code></pre>
</div>
<div id="alternatives-1" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Alternatives</h3>
<p>Pixidust: <a href="https://github.com/nutterb/pixiedust/blob/master/README.md" class="uri">https://github.com/nutterb/pixiedust/blob/master/README.md</a></p>
<p>xtable: <a href="https://cran.r-project.org/web/packages/xtable/xtable.pdf" class="uri">https://cran.r-project.org/web/packages/xtable/xtable.pdf</a></p>
<p>tables: <a href="https://cran.r-project.org/web/packages/tables/vignettes/tables.pdf" class="uri">https://cran.r-project.org/web/packages/tables/vignettes/tables.pdf</a></p>
<p>stargazer: <a href="https://cran.r-project.org/web/packages/stargazer/index.html" class="uri">https://cran.r-project.org/web/packages/stargazer/index.html</a></p>
<p>knitr::kable</p>
<p>Hmisc::latex</p>
<p><a href="https://twitter.com/polesasunder/status/464132152347475968/photo/1" class="uri">https://twitter.com/polesasunder/status/464132152347475968/photo/1</a></p>
<p>kableExtra: <a href="https://cran.r-project.org/web/packages/kableExtra/index.html" class="uri">https://cran.r-project.org/web/packages/kableExtra/index.html</a></p>
</div>
</div>
<div id="results-from-statistical-tests" class="section level2">
<h2><span class="header-section-number">4.4</span> Results from statistical tests</h2>
<p>Output from statistical models and tests needs to be properly formatted before it
can be included in text.
For this purpose, we created the function <code>apa_print()</code>.
Simply drop the results from a statistical test (e.g., a <span class="math inline">\(t\)</span> test or an ANOVA)
into <code>apa_print()</code>, and you will get an output object (a <code>list</code>) that contains all you need
to report the analysis according to APA guidelines.
<code>apa_print()</code> currently supports output objects from a variety of statistical models/tests,
including <span class="math inline">\(t\)</span> tests, ANOVA, linear regression.
For a full list of supported output objects, see Table <a href="#tab:supported-s3-methods"><strong>??</strong></a>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
A-B
</th>
<th style="text-align:left;">
B-L
</th>
<th style="text-align:left;">
L-S
</th>
<th style="text-align:left;">
S-Z
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
afex_aov
</td>
<td style="text-align:left;">
BFBayesFactorTop<sup>*</sup>
</td>
<td style="text-align:left;">
lm
</td>
<td style="text-align:left;">
summary.aovlist
</td>
</tr>
<tr>
<td style="text-align:left;">
anova
</td>
<td style="text-align:left;">
default
</td>
<td style="text-align:left;">
lsmobj<sup>*</sup>
</td>
<td style="text-align:left;">
summary.glht<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left;">
Anova.mlm
</td>
<td style="text-align:left;">
emmGrid<sup>*</sup>
</td>
<td style="text-align:left;">
manova
</td>
<td style="text-align:left;">
summary.glm
</td>
</tr>
<tr>
<td style="text-align:left;">
aov
</td>
<td style="text-align:left;">
glht<sup>*</sup>
</td>
<td style="text-align:left;">
papaja_wsci
</td>
<td style="text-align:left;">
summary.lm
</td>
</tr>
<tr>
<td style="text-align:left;">
aovlist
</td>
<td style="text-align:left;">
glm
</td>
<td style="text-align:left;">
summary_emm<sup>*</sup>
</td>
<td style="text-align:left;">
summary.ref.grid<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left;">
BFBayesFactor<sup>*</sup>
</td>
<td style="text-align:left;">
htest
</td>
<td style="text-align:left;">
summary.Anova.mlm
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
BFBayesFactorList<sup>*</sup>
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
summary.aov
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
<p><span style="font-size:50%;"><sup>*</sup> Not fully tested, don’t trust blindly!</span></p>
<div class="figure" style="text-align: center"><span id="fig:formatting-process-diagram"></span>
<img src="images/result_formatting_process.png" alt="Process diagram illustrating the use of `apa_print()` methods and `apa_table()` to format results from statistical analyses according to APA guidelines. The formatted text and tables can be reported in a manuscript." width="292" />
<p class="caption">
Figure 4.6: Process diagram illustrating the use of <code>apa_print()</code> methods and <code>apa_table()</code> to format results from statistical analyses according to APA guidelines. The formatted text and tables can be reported in a manuscript.
</p>
</div>
<div id="htest-t-tests-correlations-etc." class="section level3">
<h3><span class="header-section-number">4.4.1</span> htest (<em>t</em> tests, correlations, etc.)</h3>
<p>The results of a <span class="math inline">\(t\)</span> test (regardless of the exact type of <span class="math inline">\(t\)</span> test) are typically stored in an <code>htest</code> object.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="co"># Cosmetic surgery dataset from</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="co"># Field, A. P., Miles, J., &amp; Field, Z. (2012). Discovering statistics using R. London: Sage.</span></a>
<a class="sourceLine" id="cb59-3" data-line-number="3"><span class="kw">load</span>(<span class="st">&quot;data/cosmetic_surgery.rdata&quot;</span>)</a>
<a class="sourceLine" id="cb59-4" data-line-number="4"></a>
<a class="sourceLine" id="cb59-5" data-line-number="5">t_out &lt;-<span class="st"> </span><span class="kw">t.test</span>(</a>
<a class="sourceLine" id="cb59-6" data-line-number="6">  <span class="dt">x =</span> cosmetic_surgery<span class="op">$</span>Post_QoL</a>
<a class="sourceLine" id="cb59-7" data-line-number="7">  , <span class="dt">y =</span> cosmetic_surgery<span class="op">$</span>Base_QoL</a>
<a class="sourceLine" id="cb59-8" data-line-number="8">  , <span class="dt">paired =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb59-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb59-10" data-line-number="10"></a>
<a class="sourceLine" id="cb59-11" data-line-number="11"><span class="co"># Let&#39;s see what the apa_print() output looks like</span></a>
<a class="sourceLine" id="cb59-12" data-line-number="12"><span class="kw">apa_print</span>(t_out)</a></code></pre></div>
<pre><code>## $estimate
## [1] &quot;$M_d = -3.95$, 95\\% CI $[-4.86$, $-3.04]$&quot;
## 
## $statistic
## [1] &quot;$t(275) = -8.52$, $p &lt; .001$&quot;
## 
## $full_result
## [1] &quot;$M_d = -3.95$, 95\\% CI $[-4.86$, $-3.04]$, $t(275) = -8.52$, $p &lt; .001$&quot;
## 
## $table
## NULL
## 
## attr(,&quot;class&quot;)
## [1] &quot;apa_results&quot; &quot;list&quot;</code></pre>
<p>As you can see, <code>apa_print()</code> returns a list of four elements:
List element <code>estimate</code> contains the sample estimate of mean difference;
element <code>statistic</code> contains the result of the NHST with test statistic, <em>df</em>s, and <em>p</em> value;
element <code>full_result</code> contains both information combined.
The fourth element, <code>table</code>, arranges estimate and statistic in a data frame, so that it is easy to
create a results table that may included in the manuscript via <code>apa_table()</code>.
It will be most useful for ANOVA or linear model results, as you will see in the next subsections.</p>
</div>
<div id="lm-linear-regression" class="section level3">
<h3><span class="header-section-number">4.4.2</span> lm (linear regression)</h3>
<p>The results of a linear model are stored in an <code>lm</code> object.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1">lm_out &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">formula =</span> Post_QoL <span class="op">~</span><span class="st"> </span>Base_QoL <span class="op">+</span><span class="st"> </span>BDI, <span class="dt">data =</span> cosmetic_surgery)</a>
<a class="sourceLine" id="cb61-2" data-line-number="2">apa_lm &lt;-<span class="st"> </span><span class="kw">apa_print</span>(lm_out)</a></code></pre></div>
<p>Again, <code>apa_print</code> returns a four-elements list.
<code>apa_lm$table</code> contains a complete regression table that can be passed to <code>apa_table()</code> to get a full regression table, see Table @ref(tab:lm-table; remember to set the chunk option <code>results = &quot;asis&quot;</code>).</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">apa_table</span>(</a>
<a class="sourceLine" id="cb62-2" data-line-number="2">  apa_lm<span class="op">$</span>table</a>
<a class="sourceLine" id="cb62-3" data-line-number="3">  , <span class="dt">caption =</span> <span class="st">&quot;A full regression table.&quot;</span></a>
<a class="sourceLine" id="cb62-4" data-line-number="4">  , <span class="dt">escape =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb62-5" data-line-number="5">)</a></code></pre></div>
<caption>
<span id="tab:lm-table">Table 4.2: </span>
</caption>
<div custom-style="Table Caption">
<em>A full regression table.</em>
</div>
<table>
<thead>
<tr class="header">
<th align="left">Predictor</th>
<th align="left"><span class="math inline">\(b\)</span></th>
<th align="left">95% CI</th>
<th align="left"><span class="math inline">\(t(273)\)</span></th>
<th align="left"><span class="math inline">\(p\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Intercept</td>
<td align="left">18.50</td>
<td align="left"><span class="math inline">\([13.10\)</span>, <span class="math inline">\(23.91]\)</span></td>
<td align="left">6.74</td>
<td align="left">&lt; .001</td>
</tr>
<tr class="even">
<td align="left">Base QoL</td>
<td align="left">0.59</td>
<td align="left"><span class="math inline">\([0.50\)</span>, <span class="math inline">\(0.67]\)</span></td>
<td align="left">13.23</td>
<td align="left">&lt; .001</td>
</tr>
<tr class="odd">
<td align="left">BDI</td>
<td align="left">0.17</td>
<td align="left"><span class="math inline">\([0.11\)</span>, <span class="math inline">\(0.22]\)</span></td>
<td align="left">6.08</td>
<td align="left">&lt; .001</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1">lm_res &lt;-<span class="st"> </span><span class="kw">lm</span>(Post_QoL <span class="op">~</span><span class="st"> </span>Base_QoL <span class="op">+</span><span class="st"> </span>BDI, <span class="dt">data =</span> cosmetic_surgery)</a>
<a class="sourceLine" id="cb63-2" data-line-number="2">lm_res_apa &lt;-<span class="st"> </span><span class="kw">apa_print</span>(lm_res, <span class="dt">observed_predictors =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb63-3" data-line-number="3">lm_res_apa<span class="op">$</span>estimate<span class="op">$</span>Intercept</a></code></pre></div>
<pre><code>## [1] &quot;$b = 18.50$, 95\\% CI $[13.10$, $23.91]$&quot;</code></pre>
<blockquote>
<p><span class="math inline">\(b = 18.50\)</span>, 95% CI <span class="math inline">\([13.10\)</span>, <span class="math inline">\(23.91]\)</span></p>
</blockquote>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">lm_res_apa<span class="op">$</span>full_result<span class="op">$</span>modelfit<span class="op">$</span>r2</a></code></pre></div>
<pre><code>## [1] &quot;$R^2 = .50$, 90\\% CI $[0.42$, $0.57]$, $F(2, 273) = 136.78$, $p &lt; .001$&quot;</code></pre>
<blockquote>
<p><span class="math inline">\(R^2 = .50\)</span>, 90% CI <span class="math inline">\([0.42\)</span>, <span class="math inline">\(0.57]\)</span>, <span class="math inline">\(F(2, 273) = 136.78\)</span>, <span class="math inline">\(p &lt; .001\)</span></p>
</blockquote>
<p>Tables produced by <code>apa_print()</code> have variable labels</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">lm_res_apa<span class="op">$</span>table</a></code></pre></div>
<pre><code>## A data.frame with 5 labelled columns:
## 
##   predictor estimate                 ci statistic p.value
## 1 Intercept    18.50 $[13.10$, $23.91]$      6.74  &lt; .001
## 2  Base QoL     0.59   $[0.50$, $0.67]$     13.23  &lt; .001
## 3       BDI     0.17   $[0.11$, $0.22]$      6.08  &lt; .001
## 
## predictor: Predictor 
## estimate : $b$ 
## ci       : 95\% CI 
## statistic: $t(273)$ 
## p.value  : $p$</code></pre>
<p>Tables produced by <code>apa_print()</code> have variable labels</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="kw">variable_labels</span>(lm_res_apa<span class="op">$</span>table)</a></code></pre></div>
<pre><code>## $predictor
## [1] &quot;Predictor&quot;
## 
## $estimate
## [1] &quot;$b$&quot;
## 
## $ci
## [1] &quot;95\\% CI&quot;
## 
## $statistic
## [1] &quot;$t(273)$&quot;
## 
## $p.value
## [1] &quot;$p$&quot;</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="kw">variable_labels</span>(letters) &lt;-<span class="st"> &quot;Alphabet&quot;</span></a>
<a class="sourceLine" id="cb71-2" data-line-number="2">letters[<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>]</a></code></pre></div>
<pre><code>## Variable label     : Alphabet
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot;
## attr(,&quot;class&quot;)
## [1] &quot;papaja_labelled&quot; &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">variable_labels</span>(cars<span class="op">$</span>speed) &lt;-<span class="st"> &quot;Speed [m/h]&quot;</span></a>
<a class="sourceLine" id="cb73-2" data-line-number="2">cars[<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>, <span class="st">&quot;speed&quot;</span>]</a></code></pre></div>
<pre><code>## Variable label     : Speed [m/h]
##  [1]  4  4  7  7  8  9 10 10 10 11 11 12 12 12 12
## attr(,&quot;class&quot;)
## [1] &quot;papaja_labelled&quot; &quot;numeric&quot;</code></pre>
<p>Variable labels can be added to any <code>vector</code> or <code>data.frame</code></p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="kw">variable_labels</span>(cars) &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb75-2" data-line-number="2">  <span class="dt">speed =</span> <span class="st">&quot;Speed [m/h]&quot;</span></a>
<a class="sourceLine" id="cb75-3" data-line-number="3">  , <span class="dt">dist =</span> <span class="st">&quot;Stopping distance [ft]&quot;</span></a>
<a class="sourceLine" id="cb75-4" data-line-number="4">)</a>
<a class="sourceLine" id="cb75-5" data-line-number="5">cars[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, ]</a></code></pre></div>
<pre><code>##   speed dist
## 1     4    2
## 2     4   10
## 3     7    4</code></pre>
<p>Variable labels are attributes of the variables that make up the <code>data.frame</code></p>
<ul>
<li>Conflicting implementations</li>
<li>Ours is, in principle, compatible with <code>Hmisc</code> and also <code>haven</code></li>
</ul>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="kw">variable_labels</span>(cars<span class="op">$</span>dist)</a></code></pre></div>
<pre><code>## [1] &quot;Stopping distance [ft]&quot;</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1">cars[<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>, <span class="st">&quot;dist&quot;</span>]</a></code></pre></div>
<pre><code>## Variable label     : Stopping distance [ft]
##  [1]  2 10  4 22 16 10 18 26 34 17 28 14 20 24 28
## attr(,&quot;class&quot;)
## [1] &quot;papaja_labelled&quot; &quot;numeric&quot;</code></pre>
<div id="anova-model-comparisons" class="section level4">
<h4><span class="header-section-number">4.4.2.1</span> anova (model comparisons)</h4>
<p>…</p>
</div>
</div>
<div id="anova-anova-anova.mlm-analysis-of-variance-anova" class="section level3">
<h3><span class="header-section-number">4.4.3</span> anova, Anova, Anova.mlm (Analysis of Variance – ANOVA)</h3>
<p><em>You can skip this if you are not interested in technical background</em>.
Amongst psychologists, analysis of variance is a still-popular and frequently used technique.
In base R, however, analysis of variance is not implemented in a way that is too useful
for psychologists, as the <code>aov</code>-function in the stats package does not provide the much sought-after
Type-<span class="math inline">\(\rm{I\!I\!I}\)</span> sums-of-squares. A variety of R packages has emerged to fill the gap, e.g.
<code>car</code> <span class="citation">(Fox &amp; Weisberg, <a href="#ref-R-car">2011</a>)</span>, <code>ez</code> <span class="citation">(Lawrence, <a href="#ref-R-ez">2016</a>)</span>, and <code>afex</code> <span class="citation">(Singmann et al., <a href="#ref-R-afex">2016</a>)</span>.
Unfortunately, each ANOVA function provides different output objects that need to be digested by <code>apa_print()</code>.
To do so, we rely on the package authors to return standardized result objects (i.e., S3/S4 classes).
For this reason <code>apa_print()</code> does not support results from the popular <code>ezANOVA()</code>.
The object returned by this function has no class to inform us about its contents and, thus, cannot be processed.
We recommend you try one of the other available packages, e.g. <code>aov_ez()</code> from the <code>afex</code>-package.</p>
<p><em>Functionality</em>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1">cosmetic_surgery_anova &lt;-<span class="st"> </span>afex<span class="op">::</span><span class="kw">aov_ez</span>(</a>
<a class="sourceLine" id="cb81-2" data-line-number="2">  <span class="dt">data =</span> cosmetic_surgery</a>
<a class="sourceLine" id="cb81-3" data-line-number="3">  , <span class="dt">dv =</span> <span class="st">&quot;Post_QoL&quot;</span></a>
<a class="sourceLine" id="cb81-4" data-line-number="4">  , <span class="dt">id =</span> <span class="st">&quot;ID&quot;</span></a>
<a class="sourceLine" id="cb81-5" data-line-number="5">  , <span class="dt">between =</span> <span class="kw">c</span>(<span class="st">&quot;Clinic&quot;</span>, <span class="st">&quot;Gender&quot;</span>)</a>
<a class="sourceLine" id="cb81-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb81-7" data-line-number="7">apa_anova &lt;-<span class="st"> </span><span class="kw">apa_print</span>(cosmetic_surgery_anova)</a></code></pre></div>
<p>Now, you can report the results of your analyses like so:</p>
<pre><code>Clinic ($F(9, 256) = 19.98$, $\mathit{MSE} = 47.58$, $p &lt; .001$, $\hat{\eta}^2_G = .413$) and patient gender affected post-surgery quality of life, $F(1, 256) = 15.29$, $\mathit{MSE} = 47.58$, $p &lt; .001$, $\hat{\eta}^2_G = .056$. However, the effect of gender differed by clinic, $F(9, 256) = 1.97$, $\mathit{MSE} = 47.58$, $p = .043$, $\hat{\eta}^2_G = .065$.</code></pre>
<p>Which will yield the following text:</p>
<blockquote>
<p>Clinic (<span class="math inline">\(F(9, 256) = 19.98\)</span>, <span class="math inline">\(\mathit{MSE} = 47.58\)</span>, <span class="math inline">\(p &lt; .001\)</span>, <span class="math inline">\(\hat{\eta}^2_G = .413\)</span>) and patient gender affected post-surgery quality of life, <span class="math inline">\(F(1, 256) = 15.29\)</span>, <span class="math inline">\(\mathit{MSE} = 47.58\)</span>, <span class="math inline">\(p &lt; .001\)</span>, <span class="math inline">\(\hat{\eta}^2_G = .056\)</span>. However, the effect of gender differed by clinic, <span class="math inline">\(F(9, 256) = 1.97\)</span>, <span class="math inline">\(\mathit{MSE} = 47.58\)</span>, <span class="math inline">\(p = .043\)</span>, <span class="math inline">\(\hat{\eta}^2_G = .065\)</span>.</p>
</blockquote>
<p>Again, you can easily create a complete ANOVA table by passing <code>recall_anova_results$table</code> to <code>apa_table()</code>, see .</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="kw">apa_table</span>(</a>
<a class="sourceLine" id="cb83-2" data-line-number="2">  apa_anova<span class="op">$</span>table</a>
<a class="sourceLine" id="cb83-3" data-line-number="3">  , <span class="dt">caption =</span> <span class="st">&quot;A really beautiful ANOVA table.&quot;</span></a>
<a class="sourceLine" id="cb83-4" data-line-number="4">  , <span class="dt">note =</span> <span class="st">&quot;Note that the column names contain beautiful mathematical copy: This is because the table has variable labels.&quot;</span></a>
<a class="sourceLine" id="cb83-5" data-line-number="5">)</a></code></pre></div>
<caption>
<span id="tab:anova-table">Table 4.3: </span>
</caption>
<div custom-style="Table Caption">
<em>A really beautiful ANOVA table.</em>
</div>
<table>
<thead>
<tr class="header">
<th align="left">Effect</th>
<th align="left"><span class="math inline">\(F\)</span></th>
<th align="left"><span class="math inline">\(\mathit{df}_1\)</span></th>
<th align="left"><span class="math inline">\(\mathit{df}_2\)</span></th>
<th align="left"><span class="math inline">\(\mathit{MSE}\)</span></th>
<th align="left"><span class="math inline">\(p\)</span></th>
<th align="left"><span class="math inline">\(\hat{\eta}^2_G\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Clinic</td>
<td align="left">19.98</td>
<td align="left">9</td>
<td align="left">256</td>
<td align="left">47.58</td>
<td align="left">&lt; .001</td>
<td align="left">.413</td>
</tr>
<tr class="even">
<td align="left">Gender</td>
<td align="left">15.29</td>
<td align="left">1</td>
<td align="left">256</td>
<td align="left">47.58</td>
<td align="left">&lt; .001</td>
<td align="left">.056</td>
</tr>
<tr class="odd">
<td align="left">Clinic <span class="math inline">\(\times\)</span> Gender</td>
<td align="left">1.97</td>
<td align="left">9</td>
<td align="left">256</td>
<td align="left">47.58</td>
<td align="left">.043</td>
<td align="left">.065</td>
</tr>
</tbody>
</table>
<div custom-style="Compact">
<p><em>Note.</em> Note that the column names contain beautiful mathematical copy: This is because the table has variable labels.</p>
</div>
<p> </p>
<div id="glht-lsmeans-ref.grid-post-hoc-tests" class="section level4">
<h4><span class="header-section-number">4.4.3.1</span> glht, lsmeans, ref.grid (post-hoc tests)</h4>
<p>We are currently working onn full support of post-hoc tests, contrasts and expected
marginal means from the <code>emmeans</code> and <code>lsmeans</code> packages. A lot of work has already
been done and you may use the available methods, but you should double-check
the results because these new methods are not fully tested, yet.
The same applies to results returned by the <code>glht()</code> function from package <code>multcomp</code>.</p>
</div>
</div>
</div>
<div id="caching-expensive-computations" class="section level2">
<h2><span class="header-section-number">4.5</span> Caching expensive computations</h2>
<p>If R codes take a long time to run, results can be cached</p>
<p><smaller>
<code class = "markdown hljs remark-code" style = "background: #F2F2F2;">```{r heavy-computation, .highlight[cache = TRUE]}<img src="workshop_files/figure-html/chunk_buttons.png" style = "float:right;" /><br /># Imagine computationally expensive R code here<br />
```</code>
</smaller></p>
<p><code>my_manuscript_cache</code> directory is created that contains
- Computed objects
- List of loaded R packages in <code>__packages</code></p>
<p>The next time the chunk is executed</p>
<ul>
<li>If unchanged, cached results are loaded</li>
<li>If changed, cache is discarded and code is executed anew</li>
</ul>
<p>Packages are not reloaded, which causes problems in subsequent uncached chunks</p>
<ul>
<li>Do not include <code>library()</code>-calls in cached chunks!</li>
</ul>
<p>Load cache into an interactive R session using <code>lazyLoad()</code></p>

<div class="rmdcaution">
If possible at all, avoid caching <code>library()</code>-calls.
Subsequent use of functions from these packages in non-cached chunks will throw errors!
</div>

<p>To avoid incorrect results due to caching, dependencies should be specified</p>
<p><smaller>
<code class = "markdown hljs remark-code" style = "background: #F2F2F2;">```{r chunk1, cache = TRUE}<img src="workshop_files/figure-html/chunk_buttons.png" style = "float:right;" /><br />x &lt;- 5<br />
```</code><br /></p>
<p><code class = "markdown hljs remark-code" style = "background: #F2F2F2;">```{r chunk2, cache = TRUE, .highlight[dependson = “chunk1”]}<img src="workshop_files/figure-html/chunk_buttons.png" style = "float:right;" /><br />x &lt;- x + 5<br />
```</code>
</smaller></p>
<p>If code in <code>chunk1</code> changes, <code>chunk2</code> is recomputed</p>
<p>To avoid incorrect results due to caching, dependencies should be specified</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">autodep =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb84-2" data-line-number="2">knitr<span class="op">::</span><span class="kw">dep_auto</span>()</a></code></pre></div>
<p>See <a href="https://yihui.name/knitr/demo/cache/">knitr cache examples</a> for details</p>
<p>Control when cache is discarded</p>
<ul>
<li>Ignore changes to comments</li>
</ul>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1">knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">cache.comments =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<ul>
<li>Discard cache when random seed changes</li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">cache.extra =</span> knitr<span class="op">::</span>rand_seed)</a></code></pre></div>
<p>I would recommend to always set these options</p>
<ul>
<li>Discard cache if data are modified</li>
</ul>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1">opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">cache.extra =</span> <span class="kw">file.info</span>(<span class="st">&quot;data.csv&quot;</span>)<span class="op">$</span>mtime)</a></code></pre></div>
<ul>
<li>Discard cache if the R environment changes</li>
</ul>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">opts_chunk<span class="op">$</span><span class="kw">set</span>(</a>
<a class="sourceLine" id="cb88-2" data-line-number="2">  <span class="dt">cache.extra =</span> <span class="kw">list</span>(R.version, <span class="kw">sessionInfo</span>())</a>
<a class="sourceLine" id="cb88-3" data-line-number="3">)</a></code></pre></div>
<p>If time permits, always discard all cached results (i.e., delete <code>my_manuscript_cache</code> directory) and reknit the document before submission to ensure that all results are based on the current R code!</p>
<div id="inserting-variables-before-they-have-been-computed" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Inserting variables before they have been computed</h3>
<p>R code in R Markdown documents in executed from top to bottom.
Hence, variables are not available before the code chunk in which they are defined has been executed.
However, sometimes it may be desireable to report a variable in a document before the corresponding code chunk.
A common example is to include the sample size or focal test statistics in the abstract.</p>
<p>Cached code chunks store their results in a cache database in the subfolder <code>my_document_cache</code> (default).
The function <code>knitr::load_cache()</code> can be used to access cache databases and report results of a chunk anywhere in the document.
For the following example, we’ll assume that we want to report the sample size in the abstract.
The sample size is calculated in the method section:</p>
<p><code>{r, sample-size, cache = TRUE}     n &lt;- nrow(cosmetic_surgery)</code></p>
<p>To report this variable in the abstract we need to use an inline code chunk in the YAML front matter field:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb89-1" data-line-number="1"><span class="ot">---</span></a>
<a class="sourceLine" id="cb89-2" data-line-number="2"><span class="fu">abstract:</span><span class="at"> |</span></a>
<a class="sourceLine" id="cb89-3" data-line-number="3">  This is the abstract.</a>
<a class="sourceLine" id="cb89-4" data-line-number="4">  <span class="fu">Our sample size was n = `r knitr:</span><span class="at">:load_cache(label = &quot;sample-size&quot;, object = &quot;n&quot;)`.</span></a>
<a class="sourceLine" id="cb89-5" data-line-number="5"><span class="ot">---</span></a></code></pre></div>
<p>When the document is first rendered the object <code>n</code> in the code chunk <code>sample-size</code> has not yet been computed and <code>knitr::load_cache()</code> will insert <code>&quot;NOT AVAILABLE&quot;</code> instead.
The next time the document is rendered, the results of the previous run have been saved as cache database.
These results will be loaded and inserted into the abstract.</p>

<div class="rmdnote">
For variables computed later in the document, <code>knitr::load_cache()</code> can only ever display the result of the previous run—if the cached code is changed, the document has to be rendered twice to display the new result.
</div>


</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-car">
<p>Fox, J., &amp; Weisberg, S. (2011). <em>An R companion to applied regression</em> (Second.). Thousand Oaks CA: Sage. Retrieved from <a href="http://socserv.socsci.mcmaster.ca/jfox/Books/Companion">http://socserv.socsci.mcmaster.ca/jfox/Books/Companion</a></p>
</div>
<div id="ref-R-ez">
<p>Lawrence, M. A. (2016). <em>Ez: Easy analysis and visualization of factorial experiments</em>. Retrieved from <a href="https://CRAN.R-project.org/package=ez">https://CRAN.R-project.org/package=ez</a></p>
</div>
<div id="ref-R-afex">
<p>Singmann, H., Bolker, B., Westfall, J., &amp; Aust, F. (2016). <em>Afex: Analysis of factorial experiments</em>. Retrieved from <a href="https://CRAN.R-project.org/package=afex">https://CRAN.R-project.org/package=afex</a></p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>When you use <code>xtable()</code>, table captions are <a href="http://tex.stackexchange.com/questions/42209/centering-tables-in-document-class-apa6">set to the left page margin</a>.<a href="reporting.html#fnref3" class="footnote-back">↩</a></p></li>
</ol>
</div>
<h1>Comments and Questions</h1>
<div id="disqus_thread"></div>
  <script>
  
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
    (function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://papaja-manual.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<br />
<center><small>Icons by <a href = "https://icons8.com">Icons8</a></small></center>
            </section>

          </div>
        </div>
      </div>
<a href="writing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tips-and-tricks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/crsh/papaja_man/edit/master/04-reporting.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
